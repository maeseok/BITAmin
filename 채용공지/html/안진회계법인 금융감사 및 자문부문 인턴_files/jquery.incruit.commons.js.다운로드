// Copyright ¨Ï 1998~2017 Incruit Corporation All rights reserved

(function($){$.fn.addWait=function(args){var clsName="loading";if(args){if(args.size){if(args.size=='small')clsName="loadingS";if(args.size=='middle')clsName="loadingM";if(args.size=='large')clsName="loading";}}
return this.each(function(){$(this).addClass(clsName);});};$.fn.removeWait=function(){return this.each(function(){$(this).removeClass("loadingS");$(this).removeClass("loadingM");$(this).removeClass("loading");});};$.bannerList=[];$.fn.banner=function(options){var banner=new $.banner($(this));if(options.next)options.next.click(function(){banner.next();});if(options.prev)options.prev.click(function(){banner.prev();});if(options.move){var i=0;options.move.each(function(){$(this).attr("selectedIndex",i);$(this).click(function(){banner.move($(this).attr("selectedIndex"));});i++;});}
if(options.auto){banner.auto=options.auto;banner.startAutoChange(banner);}
$.bannerList[$.bannerList.length]=banner;};$.banner=function($obj){this.selectedIndex=0;this.length=$obj.length;this.autoChangeEvent;this.auto=0;this.banner;this.next=function(){this.stopRolling();$obj.eq(this.selectedIndex).hide();this.selectedIndex++;if(this.selectedIndex>(this.length-1))this.selectedIndex=0;$obj.eq(this.selectedIndex).show();this.pageDotMove(this.selectedIndex);this.startRolling();};this.prev=function(){this.stopRolling();$obj.eq(this.selectedIndex).hide();this.selectedIndex--;if(this.selectedIndex<0)this.selectedIndex=(this.length-1);$obj.eq(this.selectedIndex).show();this.pageDotMove(this.selectedIndex);this.startRolling();};this.move=function(idx){this.stopRolling();$obj.eq(this.selectedIndex).hide();this.selectedIndex=idx;if(this.selectedIndex<0)
this.selectedIndex=(this.length-1);else if(this.selectedIndex>(this.length-1))
this.selectedIndex=0;$obj.eq(this.selectedIndex).show();this.pageDotMove(this.selectedIndex);this.startRolling();};this.startAutoChange=function(banner){if(this.auto>0)this.autoChangeEvent=setInterval(function(){banner.next();},this.auto);};this.startRolling=function(){if(this.auto>0)this.startAutoChange(this);};this.stopRolling=function(){if(this.autoChangeEvent)clearInterval(this.autoChangeEvent);};this.pageDotMove=function(idx){try{var pageDot=$("#prmt_page button").length;if(pageDot>0&&(pageDot-1)>=idx){$("#prmt_page button").removeClass("slc").eq(idx).addClass("slc");}}catch(e){}};};$.fn.selectBox=function(selected){return this.each(function(){var $combo=$(this);$combo.find("ul").css("position","absolute").end().mouseleave(function(){$(this).removeClass("open");});$combo.find("button").click(function(){$combo.toggleClass("open");}).focusin(function(){$(this).addClass("outLine");}).focusout(function(){$(this).removeClass("outLine");});$combo.find("ul>li>a").click(function(){var v=$(this).text();$combo.find("button").text("").append(v);$combo.find("button").addClass("selected");if(selected)selected($(this).attr("href"),v);setTimeout(function(){$combo.removeClass("open");},1);}).focus(function(){$(this).parents("ul:first").children("li").removeClass("hover");$(this).parents("li:first").toggleClass("hover");}).hover(function(){$(this).parents("ul:first").children("li").removeClass("hover");$(this).parents("li:first").toggleClass("hover");});});};$.fn.watermark=function(opts){return this.each(function(){if(opts.css){$(this).focus(function(){$(this).removeClass(opts.css);});$(this).blur(function(){if(!this.value)$(this).addClass(opts.css);});}
if(opts.text){$(this).focus(function(){if(this.value==opts.text)$(this).val("");});$(this).blur(function(){if(!this.value)$(this).val(opts.text);});}});};$.fn.mousePopup=function(opts){return this.each(function(){var obj;var btn;if(opts.next||opts.next==""){if(opts.next)
obj=$(this).next(opts.next);else
obj=$(this).next();}else if(opts.children){obj=$(this).find(opts.children);}else if(opts.selector){obj=$(opts.selector).clone().appendTo(this);}else if(opts.html){obj=$(opts.html).appendTo(this);}else{return;}
if(obj.length==0)return;obj.addClass("g_c_mouse_popup");$(this).click(function(e){var layout;if(opts.children){$(".positionCtrl").removeClass('positionCtrl');$(".showService").removeClass('showService');}
$(".g_c_mouse_popup:visible").hide();if(opts.next||opts.next==""){layout=$(this).next(".g_c_mouse_popup");}else{layout=$(this).find(".g_c_mouse_popup");}
if(!opts.children&&!opts.next&&opts.next!=""){var position=$(this).position();layout.css("top",position.top+$(this).height());layout.css("left",position.left+5);}
if(opts.children==".serviceLink"){$(this).addClass('positionCtrl');layout.addClass('showService');}
layout.show();layout.mouseleave(function(e){if(opts.children){$(".positionCtrl").removeClass('positionCtrl');$(".showService").removeClass('showService');}
$(this).hide();});});});};var g_keydownfocus;$.fn.keydownfocus=function(opts){g_keydownfocus=$(this);$(document).keydown(function(e){var keys=[8,9,13,16,17,18,32,36,35,34,33,20,37,39,38,40,224];var evt=e?e:window.event;var keycode=evt.keyCode;var node=evt.target||evt.srcElement;for(var i=0,len=keys.length;i<len;i++){if(keys[i]==keycode){return true;}}
if(evt.ctrlKey||evt.metaKey){return true;}
if(node&&(node.nodeName=='INPUT'||node.nodeName=='TEXTAREA')){return true;}
if(g_keydownfocus){try{g_keydownfocus.css("imeMode","inactive");g_keydownfocus.focus();g_keydownfocus.select();}catch(ex){return true;}}});};$.fn.allowOnly=function(expr){return this.each(function(){$(this).bind("keypress",function(e){if(!this.readOnly)
return allowOnly(expr,e);else
return false;})});function allowOnly(expr,e){expr=expr.toLowerCase();expr=expr.replace("a..z","abcdefghijklmnopqrstuvwxyz");expr=expr.replace("0..9","0123456789");expr=expr.replace("1..9","123456789");expr=expr.replace("|","");if($.browser.msie){var ch=String.fromCharCode(window.event.keyCode);ch=ch.toLowerCase();var a=expr.indexOf(ch);if(a==-1)window.event.keyCode=0;}else{if(e.charCode==0)return true;var ch=String.fromCharCode(e.charCode);ch=ch.toLowerCase();var a=expr.indexOf(ch);if(a==-1)return false;}}};})(jQuery);