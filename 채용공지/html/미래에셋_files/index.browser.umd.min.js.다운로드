!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Hackle={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},e(t,r)};function r(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function i(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function o(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a=0,s=1,u=2,c=3,f=4,l=function(){function t(){}return t.setLogLevel=function(t){void 0===t&&(t=c),this.logLevel=t},t._log=function(t,e){var r;switch(t){case"WARN":r="orange";break;case"ERROR":r="red";break;default:r="#AAAAAA"}if(e instanceof Error)p.log(t,r,e.message,e);else try{p.log(t,r,e)}catch(t){}},t.logLevel=c,t.log={error:function(e){t.logLevel>=s&&t._log("ERROR",e)},warn:function(e){t.logLevel>=u&&t._log("WARN",e)},info:function(e){t.logLevel>=c&&t._log("INFO",e)},debug:function(e){t.logLevel>=f&&t._log("DEBUG",e)}},t}(),p=function(){function t(){}return t.log=function(t,e,r,n){try{console.log("%c[".concat(t,"] Hackle: ").concat(r),"color: ".concat(e))}catch(t){}},t}(),h="X-HACKLE-SDK-KEY",d="X-HACKLE-SDK-NAME",v="X-HACKLE-SDK-VERSION",y="X-HACKLE-SDK-TIME",g=3e3,m=[0,8,16,32,64,128,256,512],w="_hackle_hid",E="_hackle_id",T=l.log;function b(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])}var A={getRequest:function(t,e){return{abort:function(){},responsePromise:new Promise((function(r,n){var i=new XMLHttpRequest;i.open("GET",t),i.onreadystatechange=function(){if(i.readyState===i.DONE){if(0===i.status)return void n(new Error("Request error"));r({statusCode:i.status,body:i.responseText})}},i.onerror=function(){n()},i.setRequestHeader("content-type","application/json"),i.withCredentials=!0,b(i,e),i.send()}))}},postRequest:function(t,e,r,n){var i=JSON.stringify(e),o=new XMLHttpRequest;o.open("POST",t),o.onreadystatechange=function(){o.readyState===o.DONE&&o.status>=200&&o.status<400&&n(o)},o.setRequestHeader("content-type","application/json"),o.withCredentials=!0,b(o,r),o.send(i)},sendBeacon:function(t,e,r,n){var i=!1;if("undefined"!=typeof window&&(i=window&&window.navigator&&window.navigator.sendBeacon&&!0),i){var o=JSON.stringify(e),a=new URLSearchParams;a.append("sdkName",r[d]),a.append("sdkVersion",r[v]),a.append("data",o),window.navigator.sendBeacon(t,a),n()}else T.error("Does not support sendBeacon"),n()}},R=l.log,O=function(){function t(t,e){this.variation=t,this.reason=e}return t.of=function(e,r){return new t(e,r)},t}(),I=function(){function t(t,e){this.isOn=t,this.reason=e}return t.on=function(e){return new t(!0,e)},t.off=function(e){return new t(!1,e)},t}(),N=function(){function t(){}return t.SDK_NOT_READY="SDK_NOT_READY",t.EXCEPTION="EXCEPTION",t.INVALID_INPUT="INVALID_INPUT",t.EXPERIMENT_NOT_FOUND="EXPERIMENT_NOT_FOUND",t.EXPERIMENT_DRAFT="EXPERIMENT_DRAFT",t.EXPERIMENT_PAUSED="EXPERIMENT_PAUSED",t.EXPERIMENT_COMPLETED="EXPERIMENT_COMPLETED",t.OVERRIDDEN="OVERRIDDEN",t.TRAFFIC_NOT_ALLOCATED="TRAFFIC_NOT_ALLOCATED",t.NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT="NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT",t.IDENTIFIER_NOT_FOUND="IDENTIFIER_NOT_FOUND",t.VARIATION_DROPPED="VARIATION_DROPPED",t.TRAFFIC_ALLOCATED="TRAFFIC_ALLOCATED",t.NOT_IN_EXPERIMENT_TARGET="NOT_IN_EXPERIMENT_TARGET",t.FEATURE_FLAG_NOT_FOUND="FEATURE_FLAG_NOT_FOUND",t.FEATURE_FLAG_INACTIVE="FEATURE_FLAG_INACTIVE",t.INDIVIDUAL_TARGET_MATCH="INDIVIDUAL_TARGET_MATCH",t.TARGET_RULE_MATCH="TARGET_RULE_MATCH",t.DEFAULT_RULE="DEFAULT_RULE",t}(),_=function(){function t(t,e,r,n,i,o,a,s,u,c,f,l,p,h){this.id=t,this.key=e,this.type=r,this.identifierType=n,this.status=i,this.version=o,this.variations=a,this.userOverrides=s,this.segmentOverrides=u,this.targetAudiences=c,this.targetRules=f,this.defaultRule=l,this.containerId=p,this._winnerVariationId=h}return t.prototype._winnerVariationOrNull=function(){if(this._winnerVariationId)return this._getVariationByIdOrNull(this._winnerVariationId)},t.prototype._getVariationByIdOrNull=function(t){return this.variations.find((function(e){return e.id===t}))},t.prototype._getVariationByKeyOrNull=function(t){return this.variations.find((function(e){return e.key===t}))},t}(),S=function(t,e,r){this.id=t,this.key=e,this.isDropped=r},x=function(t,e,r){this.seed=t,this.slotSize=e,this.slots=r},k=function(){function t(t,e,r){this.startInclusive=t,this.endExclusive=e,this.variationId=r}return t.prototype.contains=function(t){return this.startInclusive<=t&&t<this.endExclusive},t}(),M=function(t,e){this.id=t,this.key=e},C=function(){function t(){}return t.ID="$id",t.USER="$userId",t.DEVICE="$deviceId",t}(),P=function(){function t(){this.identifiers={}}return t.prototype.addIdentifiers=function(t){for(var e in t)this.add(e,t[e]);return this},t.prototype.add=function(t,e){return e&&this._isValid(t,e)?this.identifiers[t]=e:R.warn("Invalid user identifier [type=".concat(t,", value=").concat(e,"]")),this},t.prototype._isValid=function(t,e){return!!t&&("string"==typeof t&&(!(t.length>128)&&(!!e&&("string"==typeof e&&!(e.length>512)))))},t.prototype.build=function(){return this.identifiers},t}(),D=function(t){this.conditions=t},U=function(t,e){this.key=t,this.match=e},L=function(t,e){this.type=t,this.name=e},F=function(t,e,r,n){this.type=t,this.operator=e,this.valueType=r,this.values=n},j=function(t,e,r){this.type=t,this.variationId=e,this.bucketId=r},V=function(t,e){this.target=t,this.action=e},G=function(t,e,r,n){this.id=t,this.key=e,this.type=r,this.targets=n},H=function(){function t(t,e,r){this.id=t,this.bucketId=e,this.groups=r}return t.prototype.getGroupOrNull=function(t){return this.groups.find((function(e){return e.id===t}))},t}(),B=function(t,e){this.id=t,this.experiments=e};function z(t,e){return t-e}var K,q=function(){function t(t,e,r){this.coreVersion=t,this.prerelease=e,this.build=r}return t.tryParse=function(e){var r=t.regExp.exec(e);if(r){r[0];var n=r[1],i=r[2],o=void 0===i?"0":i,a=r[3],s=void 0===a?"0":a,u=r[4],c=r[5];return new t(new X(parseInt(n,10),parseInt(o,10),parseInt(s,10)),W.parse(u),W.parse(c))}},t.prototype.compareTo=function(t){return this.coreVersion.compareTo(t.coreVersion)||this.prerelease.compareTo(t.prerelease)},t.prototype.isEqualTo=function(t){return 0===this.compareTo(t)},t.prototype.isGreaterThan=function(t){return this.compareTo(t)>0},t.prototype.isGreaterThanOrEqualTo=function(t){return this.compareTo(t)>=0},t.prototype.isLessThan=function(t){return this.compareTo(t)<0},t.prototype.isLessThanOrEqualTo=function(t){return this.compareTo(t)<=0},t.regExp=/^(0|[1-9]\d*)(?:\.(0|[1-9]\d*))?(?:\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,t}(),X=function(){function t(t,e,r){this.major=t,this.minor=e,this.patch=r}return t.prototype.compareTo=function(t){return z(this.major,t.major)||z(this.minor,t.minor)||z(this.patch,t.patch)},t}(),W=function(){function t(t){this.identifiers=t}return t.parse=function(e){return e?new t(e.split(".")):t.EMPTY},t.prototype.isEmpty=function(){return 0===this.identifiers.length},t.prototype.isNotEmpty=function(){return!this.isEmpty()},t.prototype.compareTo=function(t){return this.isEmpty()&&t.isEmpty()?0:this.isEmpty()&&t.isNotEmpty()?1:this.isNotEmpty()&&t.isEmpty()?-1:this.compareIdentifiers(t)},t.prototype.compareIdentifiers=function(e){for(var r=Math.min(this.identifiers.length,e.identifiers.length),n=0;n<r;n++){var i=t.compareIdentifiers(this.identifiers[n],e.identifiers[n]);if(0!==i)return i}return z(this.identifiers.length,e.identifiers.length)},t.compareIdentifiers=function(e,r){return t.numericIdentifierRegExp.test(e)&&t.numericIdentifierRegExp.test(r)?z(+e,+r):e===r?0:e<r?-1:1},t.EMPTY=new t([]),t.numericIdentifierRegExp=/^(0|[1-9]\d*)$/,t}(),Y=["MATCH","NOT_MATCH"],$=["STRING","NUMBER","BOOLEAN","VERSION"],Z=["IN","CONTAINS","STARTS_WITH","ENDS_WITH","GT","GTE","LT","LTE"],Q=["VARIATION","BUCKET"],J=["USER_ID","USER_PROPERTY","HACKLE_PROPERTY","SEGMENT"],tt=["USER_ID","USER_PROPERTY"],et=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.supportedKeyTypes=t}return t.prototype.supports=function(t){return this.supportedKeyTypes.includes(t)},t.IDENTIFIER=new t("SEGMENT"),t.PROPERTY=new t("SEGMENT","USER_PROPERTY","HACKLE_PROPERTY"),t.SEGMENT=new t("USER_ID","USER_PROPERTY","HACKLE_PROPERTY"),t}(),rt=function(){function t(){}return t.validate=function(t){if(t){if("object"!=typeof t)return!1;for(var e in t)if(!this.validProperty(e,t[e]))return!1}return!0},t.filteredProperties=function(t){var e=this;return Object.keys(t).filter((function(r){return e.validProperty(r,t[r])})).reduce((function(r,i){var o;return n(n({},r),((o={})[i]=e.filteredPropertiesValue(t[i]),o))}),{})},t.filteredPropertiesValue=function(t){return"string"==typeof t&&t.length>1024?t.slice(0,1024):t},t.validProperty=function(t,e){return!!t&&("string"==typeof t&&(!(t.length>128)&&("string"==typeof e||("boolean"==typeof e||"number"==typeof e&&(!isNaN(e)&&isFinite(e))))))},t}(),nt=function(){function t(t,e){this.timestamp=t,this.user=e}return t.exposure=function(t,e,r){return new it((new Date).getTime(),e,t,r.variationId,r.variationKey,r.reason)},t.track=function(t,e,r){return new ot((new Date).getTime(),r,t,e)},t.isExposure=function(t){return void 0!==t.experiment},t.isTrack=function(t){return void 0!==t.eventType},t}(),it=function(t){function e(e,r,n,i,o,a){var s=t.call(this,e,r)||this;return s.experiment=n,s.variationId=i,s.variationKey=o,s.decisionReason=a,s}return r(e,t),e.prototype.toDto=function(){return{timestamp:this.timestamp,userId:this.user.identifiers[C.ID],identifiers:this.user.identifiers,userProperties:rt.filteredProperties(this.user.properties||{}),hackleProperties:rt.filteredProperties(this.user.hackleProperties||{}),experimentId:this.experiment.id,experimentKey:this.experiment.key,experimentType:this.experiment.type,experimentVersion:this.experiment.version,variationId:this.variationId,variationKey:this.variationKey,decisionReason:this.decisionReason.toString()}},e}(nt),ot=function(t){function e(e,r,n,i){var o=t.call(this,e,r)||this;return o.eventType=n,o.event=i,o}return r(e,t),e.prototype.toDto=function(){return{timestamp:this.timestamp,userId:this.user.identifiers[C.ID],identifiers:this.user.identifiers,userProperties:rt.filteredProperties(this.user.properties||{}),hackleProperties:rt.filteredProperties(this.user.hackleProperties||{}),eventTypeId:this.eventType.id,eventTypeKey:this.eventType.key,value:this.event.value||0,properties:rt.filteredProperties(this.event.properties||{})}},e}(nt),at=function(){function t(t,e,r){this.variationId=t,this.variationKey=e,this.reason=r}return t.withVariation=function(e,r){return new t(e.id,e.key,r)},t.withKey=function(e,r){return new t(void 0,e,r)},t.of=function(e,r,n){var i=e._getVariationByKeyOrNull(r);return i?t.withVariation(i,n):t.withKey(r,n)},t}(),st=function(){function t(t){this.evaluationFlowFactory=t}return t.prototype.evaluate=function(t,e,r,n){return this.evaluationFlowFactory.getFlow(e.type).evaluate(t,e,r,n)},t}(),ut=function(){function t(t){this.conditionMatcherFactory=t}return t.prototype.matches=function(t,e,r){var n=this;return t.conditions.every((function(t){return n._matches(t,e,r)}))},t.prototype._matches=function(t,e,r){return this.conditionMatcherFactory.getMatcher(t.key.type).matches(t,e,r)},t}(),ct=function(){function t(t,e){this.valueMatcherFactory=t,this.operatorMatcherFactory=e}return t.prototype.matches=function(t,e){var r=this.valueMatcherFactory.getMatcher(e.valueType),n=this.operatorMatcherFactory.getMatcher(e.operator),i=e.values.some((function(e){return r.matches(n,t,e)}));return this._matches(e.type,i)},t.prototype._matches=function(t,e){switch(t){case"MATCH":return e;case"NOT_MATCH":return!e}},t}(),ft=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return t===e},t.prototype.numberMatches=function(t,e){return t===e},t.prototype.stringMatches=function(t,e){return t===e},t.prototype.versionMatches=function(t,e){return t.isEqualTo(e)},t}(),lt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return!1},t.prototype.stringMatches=function(t,e){return t.includes(e)},t.prototype.versionMatches=function(t,e){return!1},t}(),pt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return!1},t.prototype.stringMatches=function(t,e){return t.startsWith(e)},t.prototype.versionMatches=function(t,e){return!1},t}(),ht=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return!1},t.prototype.stringMatches=function(t,e){return t.endsWith(e)},t.prototype.versionMatches=function(t,e){return!1},t}(),dt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return t>e},t.prototype.stringMatches=function(t,e){return!1},t.prototype.versionMatches=function(t,e){return t.isGreaterThan(e)},t}(),vt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return t>=e},t.prototype.stringMatches=function(t,e){return!1},t.prototype.versionMatches=function(t,e){return t.isGreaterThanOrEqualTo(e)},t}(),yt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return t<e},t.prototype.stringMatches=function(t,e){return!1},t.prototype.versionMatches=function(t,e){return t.isLessThan(e)},t}(),gt=function(){function t(){}return t.prototype.booleanMatches=function(t,e){return!1},t.prototype.numberMatches=function(t,e){return t<=e},t.prototype.stringMatches=function(t,e){return!1},t.prototype.versionMatches=function(t,e){return t.isLessThanOrEqualTo(e)},t}(),mt=function(){function t(){}return t.prototype.getMatcher=function(e){switch(e){case"IN":return t.IN_MATCHER;case"CONTAINS":return t.CONTAINS_MATCHER;case"STARTS_WITH":return t.STARTS_WITH_MATCHER;case"ENDS_WITH":return t.ENDS_WITH_MATCHER;case"GT":return t.GT_MATCHER;case"GTE":return t.GTE_MATCHER;case"LT":return t.LT_MATCHER;case"LTE":return t.LTE_MATCHER}},t.IN_MATCHER=new ft,t.CONTAINS_MATCHER=new lt,t.STARTS_WITH_MATCHER=new pt,t.ENDS_WITH_MATCHER=new ht,t.GT_MATCHER=new dt,t.GTE_MATCHER=new vt,t.LT_MATCHER=new yt,t.LTE_MATCHER=new gt,t}(),wt=function(){function t(){}return t.prototype.matches=function(t,e,r){return"string"==typeof e&&"string"==typeof r&&t.stringMatches(e,r)},t}(),Et=function(){function t(){}return t.prototype.matches=function(t,e,r){return"number"==typeof e&&"number"==typeof r&&t.numberMatches(e,r)},t}(),Tt=function(){function t(){}return t.prototype.matches=function(t,e,r){return"boolean"==typeof e&&"boolean"==typeof r&&t.booleanMatches(e,r)},t}(),bt=function(){function t(){}return t.prototype.matches=function(t,e,r){var n=q.tryParse(e),i=q.tryParse(r);return!(!n||!i)&&t.versionMatches(n,i)},t}(),At=function(){function t(){}return t.prototype.getMatcher=function(e){switch(e){case"STRING":return t.STRING_MATCHER;case"NUMBER":return t.NUMBER_MATCHER;case"BOOLEAN":return t.BOOLEAN_MATCHER;case"VERSION":return t.VERSION_MATCHER}},t.STRING_MATCHER=new wt,t.NUMBER_MATCHER=new Et,t.BOOLEAN_MATCHER=new Tt,t.VERSION_MATCHER=new bt,t}(),Rt=function(){function t(){}return t.isNullOrUndefined=function(t){return null==t},t}(),Ot=function(){function t(t,e){this.userValueResolver=t,this.valueOperatorMatcher=e}return t.prototype.matches=function(t,e,r){var n=this.userValueResolver.resolveOrNull(r,t.key);return!Rt.isNullOrUndefined(n)&&this.valueOperatorMatcher.matches(n,t.match)},t}(),It=function(){function t(){}return t.prototype.resolveOrNull=function(t,e){switch(e.type){case"USER_ID":return t.identifiers[e.name];case"USER_PROPERTY":return t.properties[e.name];case"HACKLE_PROPERTY":return t.hackleProperties[e.name];case"SEGMENT":throw new Error("Unsupported TargetKeyType [".concat(e.type,"]"))}},t}(),Nt=function(){function t(t){this.segmentMatcher=t}return t.prototype.matches=function(t,e,r){var n=this;if("SEGMENT"!=t.key.type)throw new Error("Unsupported TargetKeyType [".concat(t.key.type,"]"));var i=t.match.values.some((function(t){return n._matches(t,e,r)}));switch(t.match.type){case"MATCH":return i;case"NOT_MATCH":return!i}},t.prototype._matches=function(t,e,r){if("string"!=typeof t)throw new Error("SegmentKey[".concat(t,"]"));var n=e.getSegmentOrNull(t);if(!n)throw new Error("Segment[".concat(t,"]"));return this.segmentMatcher.matches(n,e,r)},t}(),_t=function(){function t(t){this.userConditionMatcher=t}return t.prototype.matches=function(t,e,r){var n=this;return t.targets.some((function(t){return n._matches(t,e,r)}))},t.prototype._matches=function(t,e,r){var n=this;return t.conditions.every((function(t){return n.userConditionMatcher.matches(t,e,r)}))},t}(),St=function(){function t(){}return t.prototype.getMatcher=function(e){switch(e){case"USER_ID":case"USER_PROPERTY":case"HACKLE_PROPERTY":return t.USER_CONDITION_MATCHER;case"SEGMENT":return t.SEGMENT_CONDITION_MATCHER}},t.USER_CONDITION_MATCHER=new Ot(new It,new ct(new At,new mt)),t.SEGMENT_CONDITION_MATCHER=new Nt(new _t(t.USER_CONDITION_MATCHER)),t}(),xt=function(){function t(t){this.bucketer=t}return t.prototype.resolveOrNull=function(t,e,r,n){switch(t.type){case"VARIATION":return this._resolveVariation(t,r);case"BUCKET":return this._resolveBucket(t,e,r,n)}},t.prototype._resolveVariation=function(t,e){return e._getVariationByIdOrNull(t.variationId)},t.prototype._resolveBucket=function(t,e,r,n){var i=e.getBucketOrNull(t.bucketId),o=n.identifiers[r.identifierType];if(o){var a=this.bucketer.bucketing(i,o);if(a)return r._getVariationByIdOrNull(a.variationId)}},t}(),kt={murmurhash3_x86_32:function(t,e,r,n){void 0===n&&(n=t.length);for(var i,o=3432918353,a=461845907,s=-4&n,u=e,c=0;c<s;c+=4)i=255&t.charCodeAt(c)|(255&t.charCodeAt(c+1))<<8|(255&t.charCodeAt(c+2))<<16|(255&t.charCodeAt(c+3))<<24,i=(131071&(i=this.mul32(i,o)))<<15|i>>>17,u=5*(u=(524287&(u^=i=this.mul32(i,a)))<<13|u>>>19)+3864292196|0;switch(i=0,n%4){case 3:i=(255&t.charCodeAt(s+2))<<16;case 2:i|=(255&t.charCodeAt(s+1))<<8;case 1:i|=255&t.charCodeAt(s),i=(131071&(i=this.mul32(i,o)))<<15|i>>>17,u^=i=this.mul32(i,a)}return u^=n,u^=u>>>16,u=this.mul32(u,2246822507),u^=u>>>13,u=this.mul32(u,3266489909),u^=u>>>16},mul32:function(t,e){var r=65535&e;return((e-r)*t|0)+(r*t|0)|0}},Mt=function(){function t(){}return t.prototype.bucketing=function(t,e){var r=this.calculateSlotNumber(t.seed,t.slotSize,e);return t.slots.find((function(t){return t.contains(r)}))},t.prototype.calculateSlotNumber=function(t,e,r){var n=kt.murmurhash3_x86_32(r,t);return Math.abs(n)%Math.abs(e)},t}(),Ct=function(){function t(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),this.flowEvaluator=t,this.nextFlow=e}return t.prototype.evaluate=function(t,e,r,n){return this.flowEvaluator&&this.nextFlow?this.flowEvaluator.evaluate(t,e,r,n,this.nextFlow):at.of(e,n,N.TRAFFIC_NOT_ALLOCATED)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=new t,i=0,o=e.reverse();i<o.length;i++){var a=o[i];n=new t(a,n)}return n},t}(),Pt=function(){function t(t){this.overrideResolver=t}return t.prototype.evaluate=function(t,e,r,n,i){var o=this.overrideResolver.resolveOrNull(t,e,r);if(!o)return i.evaluate(t,e,r,n);switch(e.type){case"AB_TEST":return at.withVariation(o,N.OVERRIDDEN);case"FEATURE_FLAG":return at.withVariation(o,N.INDIVIDUAL_TARGET_MATCH)}},t}(),Dt=function(){function t(){}return t.prototype.evaluate=function(t,e,r,n,i){return"DRAFT"===e.status?at.of(e,n,N.EXPERIMENT_DRAFT):i.evaluate(t,e,r,n)},t}(),Ut=function(){function t(){}return t.prototype.evaluate=function(t,e,r,n,i){if("PAUSED"!==e.status)return i.evaluate(t,e,r,n);switch(e.type){case"AB_TEST":return at.of(e,n,N.EXPERIMENT_PAUSED);case"FEATURE_FLAG":return at.of(e,n,N.FEATURE_FLAG_INACTIVE)}},t}(),Lt=function(){function t(){}return t.prototype.evaluate=function(t,e,r,n,i){if("COMPLETED"===e.status){var o=e._winnerVariationOrNull();if(!o)throw new Error("winner variation [".concat(e.id,"]"));return at.withVariation(o,N.EXPERIMENT_COMPLETED)}return i.evaluate(t,e,r,n)},t}(),Ft=function(){function t(t){this.experimentTargetDeterminer=t}return t.prototype.evaluate=function(t,e,r,n,i){if("AB_TEST"!==e.type)throw new Error("experiment type bust be AB_TEST [".concat(e.id,"]"));return this.experimentTargetDeterminer.isUserInExperimentTarget(t,e,r)?i.evaluate(t,e,r,n):at.of(e,n,N.NOT_IN_EXPERIMENT_TARGET)},t}(),jt=function(){function t(t){this.actionResolver=t}return t.prototype.evaluate=function(t,e,r,n,i){if("RUNNING"!==e.status)throw new Error("experiment status must be RUNNING [".concat(e.id,"]"));if("AB_TEST"!==e.type)throw new Error("experiment type bust be AB_TEST [".concat(e.id,"]"));var o=this.actionResolver.resolveOrNull(e.defaultRule,t,e,r);return o?o.isDropped?at.of(e,n,N.VARIATION_DROPPED):at.withVariation(o,N.TRAFFIC_ALLOCATED):at.of(e,n,N.TRAFFIC_NOT_ALLOCATED)},t}(),Vt=function(){function t(t,e){this.targetRuleDeterminer=t,this.actionResolver=e}return t.prototype.evaluate=function(t,e,r,n,i){if("RUNNING"!==e.status)throw new Error("experiment status must be RUNNING [".concat(e.id,"]"));if("FEATURE_FLAG"!==e.type)throw new Error("experiment type bust be FEATURE_FLAG [".concat(e.id,"]"));if(!r.identifiers[e.identifierType])return i.evaluate(t,e,r,n);var o=this.targetRuleDeterminer.determineTargetRuleOrNull(t,e,r);if(!o)return i.evaluate(t,e,r,n);var a=this.actionResolver.resolveOrNull(o.action,t,e,r);if(!a)throw new Error("FeatureFlag must decide the Variation [".concat(e.id,"]"));return at.withVariation(a,N.TARGET_RULE_MATCH)},t}(),Gt=function(){function t(t){this.actionResolver=t}return t.prototype.evaluate=function(t,e,r,n,i){if("RUNNING"!==e.status)throw new Error("experiment status must be RUNNING [".concat(e.id,"]"));if("FEATURE_FLAG"!==e.type)throw new Error("experiment type bust be FEATURE_FLAG [".concat(e.id,"]"));if(!r.identifiers[e.identifierType])return at.of(e,n,N.DEFAULT_RULE);var o=this.actionResolver.resolveOrNull(e.defaultRule,t,e,r);if(!o)throw new Error("FeatureFlag must decide the Variation [".concat(e.id,"]"));return at.withVariation(o,N.DEFAULT_RULE)},t}(),Ht=function(){function t(t){this.containerResolver=t}return t.prototype.evaluate=function(t,e,r,n,i){var o=e.containerId;if(!o)return i.evaluate(t,e,r,n);var a=t.getContainerOrNull(o);if(!a)throw new Error("container[".concat(o,"]"));var s=t.getBucketOrNull(a.bucketId);if(!s)throw new Error("bucket[".concat(a.bucketId,"]"));return this.containerResolver.isUserInContainerGroup(a,s,e,r)?i.evaluate(t,e,r,n):at.of(e,n,N.NOT_IN_MUTUAL_EXCLUSION_EXPERIMENT)},t}(),Bt=function(){function t(){}return t.prototype.evaluate=function(t,e,r,n,i){return r.identifiers[e.identifierType]?i.evaluate(t,e,r,n):at.of(e,n,N.IDENTIFIER_NOT_FOUND)},t}(),zt=function(){function t(t){this.targetMatcher=t}return t.prototype.isUserInExperimentTarget=function(t,e,r){var n=this;return 0===e.targetAudiences.length||e.targetAudiences.some((function(e){return n.targetMatcher.matches(e,t,r)}))},t}(),Kt=function(){function t(t){this.targetMatcher=t}return t.prototype.determineTargetRuleOrNull=function(t,e,r){var n=this;return e.targetRules.find((function(e){return n.targetMatcher.matches(e.target,t,r)}))},t}(),qt=function(){function t(t,e){this.targetMatcher=t,this.actionResolver=e}return t.prototype.resolveOrNull=function(t,e,r){var n=this._resolveUserOverride(e,r);return n||this._resolveSegmentOverride(t,e,r)},t.prototype._resolveUserOverride=function(t,e){var r=e.identifiers[t.identifierType];if(r){var n=t.userOverrides.get(r);if(n)return t._getVariationByIdOrNull(n)}},t.prototype._resolveSegmentOverride=function(t,e,r){var n=this,i=e.segmentOverrides.find((function(e){return n.targetMatcher.matches(e.target,t,r)}));if(i)return this.actionResolver.resolveOrNull(i.action,t,e,r)},t}(),Xt=function(){function t(t){this.bucketer=t}return t.prototype.isUserInContainerGroup=function(t,e,r,n){var i=n.identifiers[r.identifierType];if(!i)return!1;var o=this.bucketer.bucketing(e,i);if(!o)return!1;var a=t.getGroupOrNull(o.variationId);if(!a)throw new Error("ContainerGroup[".concat(o.variationId,"]"));return a.experiments.includes(r.id)},t}(),Wt=function(){function t(){var t=new Mt,e=new ut(new St),r=new xt(t),n=new qt(e,r),i=new Xt(t);this.abTestFlow=Ct.of(new Pt(n),new Bt,new Ht(i),new Ft(new zt(e)),new Dt,new Ut,new Lt,new jt(r)),this.featureFlagFlow=Ct.of(new Dt,new Ut,new Lt,new Pt(n),new Bt,new Vt(new Kt(e),r),new Gt(r))}return t.prototype.getFlow=function(t){switch(t){case"AB_TEST":return this.abTestFlow;case"FEATURE_FLAG":return this.featureFlagFlow}},t}(),Yt=l.log,$t=function(){function t(t,e){this.evaluator=new st(new Wt),this.workspaceFetcher=t,this.eventProcessor=e,this.workspaceFetcher.start(),this.eventProcessor.start(),this.readyPromise=this.workspaceFetcher.onReady().then((function(){return{success:!0}}),(function(t){return{success:!1,error:t}}))}return t.prototype._experiment=function(t,e,r){if(!t)return Yt.error("experimentKey must not be empty"),O.of(r,N.INVALID_INPUT);var n=this.workspaceFetcher.get();if(!n)return Yt.warn("SDK not ready."),O.of(r,N.SDK_NOT_READY);var i=n.getExperimentOrNull(t);if(!i)return Yt.warn("Experiment does not exist."),O.of(r,N.EXPERIMENT_NOT_FOUND);var o=this.evaluator.evaluate(n,i,e,r);return this.eventProcessor.process(nt.exposure(i,e,o)),O.of(o.variationKey,o.reason)},t.prototype._featureFlag=function(t,e){if(!t)return Yt.error("featureKey must not be empty"),I.off(N.INVALID_INPUT);var r=this.workspaceFetcher.get();if(!r)return Yt.warn("SDK not ready."),I.off(N.SDK_NOT_READY);var n=r.getFeatureFlagOrNull(t);if(!n)return Yt.warn("FeatureFlag does not exist."),I.off(N.FEATURE_FLAG_NOT_FOUND);var i=this.evaluator.evaluate(r,n,e,"A");return this.eventProcessor.process(nt.exposure(n,e,i)),"A"===i.variationKey?I.off(i.reason):I.on(i.reason)},t.prototype._track=function(t,e){var r;if(t)if("object"==typeof t)if("object"!=typeof t||t.key&&"string"==typeof t.key){var n=(null===(r=this.workspaceFetcher.get())||void 0===r?void 0:r.getEventTypeOrNull(t.key))||new M(0,t.key);this.eventProcessor.process(nt.track(n,t,e))}else Yt.warn("Event key must be not null. or event key must be string type.");else Yt.warn("Event must be event type.");else Yt.warn("event must not be null.")},t.prototype._onReady=function(t,e){void 0===e&&(e=g),this._onInitialized({timeout:e}).then((function(){return t()}))},t.prototype._onInitialized=function(t){var e,r=t.timeout,n=void 0===r?g:r;Yt.debug("Start HackleClient initializing");var i=new Promise((function(t){e=t})),o=setTimeout((function(){e({success:!1})}),n);return this.readyPromise.then((function(){clearTimeout(o),e({success:!0})}),(function(t){clearTimeout(o),e({success:!1,error:t})})),Promise.race([this.readyPromise,i]).then((function(t){return t.success?Yt.debug("HackleClient onInitialized Success"):t.error instanceof Error?Yt.error("HackleClient onInitialized Failed. ".concat(t.error.message)):Yt.error("HackleClient onInitialized Failed. ".concat(t.error)),Promise.resolve({success:t.success})}))},t.prototype._close=function(){this.workspaceFetcher.close(),this.eventProcessor.close()},t}(),Zt="model",Qt="name",Jt="type",te="vendor",ee="version",re="architecture",ne="console",ie="mobile",oe="tablet",ae="smarttv",se="wearable",ue=function(){function t(){}return t.parse=function(e){return{browser:t.getBrowser(e),cpu:t.getCPU(e),device:t.getDevice(e),engine:t.getEngine(e),os:t.getOS(e)}},t.getBrowser=function(e){var r={name:void 0,version:void 0,major:void 0};return t.mapper.rgx.call(r,e,t.regexes.browser),r.major=t.util.major(r.version),r},t.getCPU=function(e){var r={architecture:void 0};return t.mapper.rgx.call(r,e,t.regexes.cpu),r},t.getDevice=function(e){var r={model:void 0,type:void 0,vendor:void 0};return t.mapper.rgx.call(r,e,t.regexes.device),r},t.getEngine=function(e){var r={name:void 0,version:void 0};return t.mapper.rgx.call(r,e,t.regexes.os),r},t.getOS=function(e){var r={name:void 0,version:void 0};return t.mapper.rgx.call(r,e,t.regexes.os),r},t.util={extend:function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},t.mapper={rgx:function(t,e){for(var r,n,i,o,a,s,u=0;u<e.length&&!a;){var c=e[u],f=e[u+1];for(r=n=0;r<c.length&&!a;)if(a=c[r++].exec(t))for(i=0;i<f.length;i++)s=a[++n],"object"==typeof(o=f[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;u+=2}},str:function(e,r){for(var n in r)if("object"==typeof r[n]&&r[n].length>0){for(var i=0;i<r[n].length;i++)if(t.util.has(r[n][i],e))return"?"===n?void 0:n}else if(t.util.has(r[n],e))return"?"===n?void 0:n;return e}},t.maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},t.regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[Qt,ee],[/(opios)[\/\s]+([\w\.]+)/i],[[Qt,"Opera Mini"],ee],[/\s(opr)\/([\w\.]+)/i],[[Qt,"Opera"],ee],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[Qt,ee],[/(konqueror)\/([\w\.]+)/i],[[Qt,"Konqueror"],ee],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[Qt,"IE"],ee],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[Qt,"Edge"],ee],[/(yabrowser)\/([\w\.]+)/i],[[Qt,"Yandex"],ee],[/(Avast)\/([\w\.]+)/i],[[Qt,"Avast Secure Browser"],ee],[/(AVG)\/([\w\.]+)/i],[[Qt,"AVG Secure Browser"],ee],[/(puffin)\/([\w\.]+)/i],[[Qt,"Puffin"],ee],[/(focus)\/([\w\.]+)/i],[[Qt,"Firefox Focus"],ee],[/(opt)\/([\w\.]+)/i],[[Qt,"Opera Touch"],ee],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[Qt,"UCBrowser"],ee],[/(comodo_dragon)\/([\w\.]+)/i],[[Qt,/_/g," "],ee],[/(windowswechat qbcore)\/([\w\.]+)/i],[[Qt,"WeChat(Win) Desktop"],ee],[/(micromessenger)\/([\w\.]+)/i],[[Qt,"WeChat"],ee],[/(brave)\/([\w\.]+)/i],[[Qt,"Brave"],ee],[/(whale)\/([\w\.]+)/i],[[Qt,"Whale"],ee],[/(qqbrowserlite)\/([\w\.]+)/i],[Qt,ee],[/(QQ)\/([\d\.]+)/i],[Qt,ee],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[Qt,ee],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[Qt,ee],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[Qt,ee],[/(MetaSr)[\/\s]?([\w\.]+)/i],[Qt],[/(LBBROWSER)/i],[Qt],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[ee,[Qt,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[ee,[Qt,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[Qt,ee],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[ee,[Qt,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[Qt,/(.+)/,"$1 WebView"],ee],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[Qt,/(.+(?:g|us))(.+)/,"$1 $2"],ee],[/((?:android.+)crmo|crios)\/([\w\.]+)/i,/android.+(chrome)\/([\w\.]+)\s+(?:mobile\s?safari)/i],[[Qt,"Chrome Mobile"],ee],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[ee,[Qt,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[Qt,"Sailfish Browser"],ee],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[Qt,ee],[/(dolfin)\/([\w\.]+)/i],[[Qt,"Dolphin"],ee],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[Qt,"360 Browser"]],[/(coast)\/([\w\.]+)/i],[[Qt,"Opera Coast"],ee],[/fxios\/([\w\.-]+)/i],[ee,[Qt,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[ee,[Qt,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[ee,Qt],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[Qt,"GSA"],ee],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[Qt,[ee,t.mapper.str,t.maps.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[Qt,ee],[/(navigator|netscape)\/([\w\.-]+)/i],[[Qt,"Netscape"],ee],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[Qt,ee]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[re,"amd64"]],[/(ia32(?=;))/i],[[re,t.util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[re,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[re,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[re,/ower/,"",t.util.lowerize]],[/(sun4\w)[;\)]/i],[[re,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[re,t.util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[Zt,te,[Jt,oe]],[/applecoremedia\/[\w\.]+ \((ipad)/],[Zt,[te,"Apple"],[Jt,oe]],[/(apple\s{0,1}tv)/i],[[Zt,"Apple TV"],[te,"Apple"],[Jt,ae]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[te,Zt,[Jt,oe]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[Zt,[te,"Amazon"],[Jt,oe]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[Zt,t.mapper.str,t.maps.device.amazon.model],[te,"Amazon"],[Jt,ie]],[/android.+aft([bms])\sbuild/i],[Zt,[te,"Amazon"],[Jt,ae]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[Zt,te,[Jt,ie]],[/\((ip[honed|\s\w*]+);/i],[Zt,[te,"Apple"],[Jt,ie]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[te,Zt,[Jt,ie]],[/\(bb10;\s(\w+)/i],[Zt,[te,"BlackBerry"],[Jt,ie]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[Zt,[te,"Asus"],[Jt,oe]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[te,"Sony"],[Zt,"Xperia Tablet"],[Jt,oe]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[Zt,[te,"Sony"],[Jt,ie]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[te,Zt,[Jt,ne]],[/android.+;\s(shield)\sbuild/i],[Zt,[te,"Nvidia"],[Jt,ne]],[/(playstation\s[34portablevi]+)/i],[Zt,[te,"Sony"],[Jt,ne]],[/(sprint\s(\w+))/i],[[te,t.mapper.str,t.maps.device.sprint.vendor],[Zt,t.mapper.str,t.maps.device.sprint.model],[Jt,ie]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[te,[Zt,/_/g," "],[Jt,ie]],[/(nexus\s9)/i],[Zt,[te,"HTC"],[Jt,oe]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[Zt,[te,"Huawei"],[Jt,ie]],[/android.+(bah2?-a?[lw]\d{2})/i],[Zt,[te,"Huawei"],[Jt,oe]],[/(microsoft);\s(lumia[\s\w]+)/i],[te,Zt,[Jt,ie]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[Zt,[te,"Microsoft"],[Jt,ne]],[/(kin\.[onetw]{3})/i],[[Zt,/\./g," "],[te,"Microsoft"],[Jt,ie]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[Zt,[te,"Motorola"],[Jt,ie]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[Zt,[te,"Motorola"],[Jt,oe]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[te,t.util.trim],[Zt,t.util.trim],[Jt,ae]],[/hbbtv.+maple;(\d+)/i],[[Zt,/^/,"SmartTV"],[te,"Samsung"],[Jt,ae]],[/\(dtv[\);].+(aquos)/i],[Zt,[te,"Sharp"],[Jt,ae]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[te,"Samsung"],Zt,[Jt,oe]],[/smart-tv.+(samsung)/i],[te,[Jt,ae],Zt],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[te,"Samsung"],Zt,[Jt,ie]],[/sie-(\w*)/i],[Zt,[te,"Siemens"],[Jt,ie]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[te,"Nokia"],Zt,[Jt,ie]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[Zt,[te,"Acer"],[Jt,oe]],[/android.+([vl]k\-?\d{3})\s+build/i],[Zt,[te,"LG"],[Jt,oe]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[te,"LG"],Zt,[Jt,oe]],[/(lg) netcast\.tv/i],[te,Zt,[Jt,ae]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[Zt,[te,"LG"],[Jt,ie]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[te,Zt,[Jt,oe]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[Zt,[te,"Lenovo"],[Jt,oe]],[/(lenovo)[_\s-]?([\w-]+)/i],[te,Zt,[Jt,ie]],[/linux;.+((jolla));/i],[te,Zt,[Jt,ie]],[/((pebble))app\/[\d\.]+\s/i],[te,Zt,[Jt,se]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[te,Zt,[Jt,ie]],[/crkey/i],[[Zt,"Chromecast"],[te,"Google"],[Jt,ae]],[/android.+;\s(glass)\s\d/i],[Zt,[te,"Google"],[Jt,se]],[/android.+;\s(pixel c)[\s)]/i],[Zt,[te,"Google"],[Jt,oe]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[Zt,[te,"Google"],[Jt,ie]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[Zt,/_/g," "],[te,"Xiaomi"],[Jt,ie]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[Zt,/_/g," "],[te,"Xiaomi"],[Jt,oe]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[Zt,[te,"Meizu"],[Jt,ie]],[/(mz)-([\w-]{2,})/i],[[te,"Meizu"],Zt,[Jt,ie]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[Zt,[te,"OnePlus"],[Jt,ie]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[Zt,[te,"RCA"],[Jt,oe]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[Zt,[te,"Dell"],[Jt,oe]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[Zt,[te,"Verizon"],[Jt,oe]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[te,"Barnes & Noble"],Zt,[Jt,oe]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[Zt,[te,"NuVision"],[Jt,oe]],[/android.+;\s(k88)\sbuild/i],[Zt,[te,"ZTE"],[Jt,oe]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[Zt,[te,"Swiss"],[Jt,ie]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[Zt,[te,"Swiss"],[Jt,oe]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[Zt,[te,"Zeki"],[Jt,oe]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[te,"Dragon Touch"],Zt,[Jt,oe]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[Zt,[te,"Insignia"],[Jt,oe]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[Zt,[te,"NextBook"],[Jt,oe]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[te,"Voice"],Zt,[Jt,ie]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[te,"LvTel"],Zt,[Jt,ie]],[/android.+;\s(PH-1)\s/i],[Zt,[te,"Essential"],[Jt,ie]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[Zt,[te,"Envizen"],[Jt,oe]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[te,Zt,[Jt,oe]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[Zt,[te,"MachSpeed"],[Jt,oe]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[te,Zt,[Jt,oe]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[Zt,[te,"Rotor"],[Jt,oe]],[/android.+(KS(.+))\s+build/i],[Zt,[te,"Amazon"],[Jt,oe]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[te,Zt,[Jt,oe]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[Jt,t.util.lowerize],te,Zt],[/[\s\/\(](smart-?tv)[;\)]/i],[[Jt,ae]],[/(android[\w\.\s\-]{0,9});.+build/i],[Zt,[te,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[ee,[Qt,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ee,[Qt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[Qt,ee],[/rv\:([\w\.]{1,9}).+(gecko)/i],[ee,Qt]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[Qt,ee],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[[Qt,t.mapper.str,t.maps.os.windows],[ee,t.mapper.str,t.maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[Qt,"Windows"],[ee,t.mapper.str,t.maps.os.windows.version]],[/\((bb)(10);/i],[[Qt,"BlackBerry"],ee],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[Qt,ee],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[Qt,"Symbian"],ee],[/\((series40);/i],[Qt],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[Qt,"Firefox OS"],ee],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[[Qt,"Linux"],ee],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[Qt,"Chromium OS"],ee],[/(sunos)\s?([\w\.\d]*)/i],[[Qt,"Solaris"],ee],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[[Qt,"Linux"],ee],[/(iphone)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[Qt,"iPhone"],[ee,/_/g,"."]],[/(ipad)(?:.*os\s*([\w]*)\slike\smac|;\sopera)/i],[[Qt,"iPad"],[ee,/_/g,"."]],[/(haiku)\s(\w+)/i],[Qt,ee],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[ee,/_/g,"."],[Qt,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[Qt,"Mac"],[ee,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[Qt,ee]]},t}(),ce=function(){function t(){}return t.generate=function(t){var e,r;if(void 0===t){var n={hostname:"",pathname:"",host:"",search:"",protocol:""};r={navigator:{userAgent:"",vendor:"",languages:[]},document:{location:n,title:""},location:n,screen:{width:"",height:""}}}else r=t;var i=ue.parse(r.navigator.userAgent),o=i.browser,a=i.os,s=i.device,u=s.type?"mobile"===s.type?"Mobile":"ETC":"Web",c=(r.location.protocol||"").replace(":",""),f=r.screen,l="";try{l=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){}return{platform:u||"",browserName:o.name||"",browserMajorVersion:o.major||"",browserVersion:o.version||"",osName:a.name||"",osVersion:a.version||"",deviceModel:s.model||"",deviceType:s.type||"",deviceVendor:s.vendor||"",language:(null===(e=r.navigator.languages)||void 0===e?void 0:e[0])||"",userAgent:r.navigator.userAgent||"",pagePath:r.location.pathname||"",pageTitle:r.document.title||"",host:r.location.host||"",protocol:c,referrer:r.document.referrer||"",queryParameter:r.location.search||"",screenWidth:f.width||"",screenHeight:f.height||"",timeZone:l||""}},t}(),fe=new Uint8Array(16);function le(){if(!K&&!(K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(fe)}var pe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function he(t){return"string"==typeof t&&pe.test(t)}for(var de=[],ve=0;ve<256;++ve)de.push((ve+256).toString(16).substr(1));function ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(de[t[e+0]]+de[t[e+1]]+de[t[e+2]]+de[t[e+3]]+"-"+de[t[e+4]]+de[t[e+5]]+"-"+de[t[e+6]]+de[t[e+7]]+"-"+de[t[e+8]]+de[t[e+9]]+"-"+de[t[e+10]]+de[t[e+11]]+de[t[e+12]]+de[t[e+13]]+de[t[e+14]]+de[t[e+15]]).toLowerCase();if(!he(r))throw TypeError("Stringified UUID is invalid");return r}function ge(t,e,r){function n(t,n,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=function(t){if(!he(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r}(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(n),a.set(t,n.length),(a=r(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return ye(a)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function me(t){return 14+(t+64>>>9<<4)+1}function we(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function Ee(t,e,r,n,i,o){return we((a=we(we(e,t),we(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function Te(t,e,r,n,i,o,a){return Ee(e&r|~e&n,t,e,i,o,a)}function be(t,e,r,n,i,o,a){return Ee(e&n|r&~n,t,e,i,o,a)}function Ae(t,e,r,n,i,o,a){return Ee(e^r^n,t,e,i,o,a)}function Re(t,e,r,n,i,o,a){return Ee(r^(e|~n),t,e,i,o,a)}function Oe(t,e,r){var n=(t=t||{}).random||(t.rng||le)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return ye(n)}function Ie(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function Ne(t,e){return t<<e|t>>>32-e}ge("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[me(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,u=n,c=i,f=o;r=Te(r,n,i,o,t[a],7,-680876936),o=Te(o,r,n,i,t[a+1],12,-389564586),i=Te(i,o,r,n,t[a+2],17,606105819),n=Te(n,i,o,r,t[a+3],22,-1044525330),r=Te(r,n,i,o,t[a+4],7,-176418897),o=Te(o,r,n,i,t[a+5],12,1200080426),i=Te(i,o,r,n,t[a+6],17,-1473231341),n=Te(n,i,o,r,t[a+7],22,-45705983),r=Te(r,n,i,o,t[a+8],7,1770035416),o=Te(o,r,n,i,t[a+9],12,-1958414417),i=Te(i,o,r,n,t[a+10],17,-42063),n=Te(n,i,o,r,t[a+11],22,-1990404162),r=Te(r,n,i,o,t[a+12],7,1804603682),o=Te(o,r,n,i,t[a+13],12,-40341101),i=Te(i,o,r,n,t[a+14],17,-1502002290),r=be(r,n=Te(n,i,o,r,t[a+15],22,1236535329),i,o,t[a+1],5,-165796510),o=be(o,r,n,i,t[a+6],9,-1069501632),i=be(i,o,r,n,t[a+11],14,643717713),n=be(n,i,o,r,t[a],20,-373897302),r=be(r,n,i,o,t[a+5],5,-701558691),o=be(o,r,n,i,t[a+10],9,38016083),i=be(i,o,r,n,t[a+15],14,-660478335),n=be(n,i,o,r,t[a+4],20,-405537848),r=be(r,n,i,o,t[a+9],5,568446438),o=be(o,r,n,i,t[a+14],9,-1019803690),i=be(i,o,r,n,t[a+3],14,-187363961),n=be(n,i,o,r,t[a+8],20,1163531501),r=be(r,n,i,o,t[a+13],5,-1444681467),o=be(o,r,n,i,t[a+2],9,-51403784),i=be(i,o,r,n,t[a+7],14,1735328473),r=Ae(r,n=be(n,i,o,r,t[a+12],20,-1926607734),i,o,t[a+5],4,-378558),o=Ae(o,r,n,i,t[a+8],11,-2022574463),i=Ae(i,o,r,n,t[a+11],16,1839030562),n=Ae(n,i,o,r,t[a+14],23,-35309556),r=Ae(r,n,i,o,t[a+1],4,-1530992060),o=Ae(o,r,n,i,t[a+4],11,1272893353),i=Ae(i,o,r,n,t[a+7],16,-155497632),n=Ae(n,i,o,r,t[a+10],23,-1094730640),r=Ae(r,n,i,o,t[a+13],4,681279174),o=Ae(o,r,n,i,t[a],11,-358537222),i=Ae(i,o,r,n,t[a+3],16,-722521979),n=Ae(n,i,o,r,t[a+6],23,76029189),r=Ae(r,n,i,o,t[a+9],4,-640364487),o=Ae(o,r,n,i,t[a+12],11,-421815835),i=Ae(i,o,r,n,t[a+15],16,530742520),r=Re(r,n=Ae(n,i,o,r,t[a+2],23,-995338651),i,o,t[a],6,-198630844),o=Re(o,r,n,i,t[a+7],10,1126891415),i=Re(i,o,r,n,t[a+14],15,-1416354905),n=Re(n,i,o,r,t[a+5],21,-57434055),r=Re(r,n,i,o,t[a+12],6,1700485571),o=Re(o,r,n,i,t[a+3],10,-1894986606),i=Re(i,o,r,n,t[a+10],15,-1051523),n=Re(n,i,o,r,t[a+1],21,-2054922799),r=Re(r,n,i,o,t[a+8],6,1873313359),o=Re(o,r,n,i,t[a+15],10,-30611744),i=Re(i,o,r,n,t[a+6],15,-1560198380),n=Re(n,i,o,r,t[a+13],21,1309151649),r=Re(r,n,i,o,t[a+4],6,-145523070),o=Re(o,r,n,i,t[a+11],10,-1120210379),i=Re(i,o,r,n,t[a+2],15,718787259),n=Re(n,i,o,r,t[a+9],21,-343485551),r=we(r,s),n=we(n,u),i=we(i,c),o=we(o,f)}return[r,n,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(me(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))})),ge("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=t[64*u+4*f]<<24|t[64*u+4*f+1]<<16|t[64*u+4*f+2]<<8|t[64*u+4*f+3];s[u]=c}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<a;++l){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=s[l][h];for(var d=16;d<80;++d)p[d]=Ne(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var v=r[0],y=r[1],g=r[2],m=r[3],w=r[4],E=0;E<80;++E){var T=Math.floor(E/20),b=Ne(v,5)+Ie(T,y,g,m)+w+e[T]+p[E]>>>0;w=m,m=g,g=Ne(y,30)>>>0,y=v,v=b}r[0]=r[0]+v>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));var _e=function(){function t(){Se.initialize()}return t.prototype.resolveOrNull=function(t){var e=this._resolveUser(t);return this._resolveHackleUserOrNull(e)},t.prototype._resolveUser=function(t){return t?"string"==typeof t?{id:t}:t:{id:xe()}},t.prototype._resolveHackleUserOrNull=function(t){var e=new P;e.addIdentifiers(t.identifiers||{}),t.id&&e.add(C.ID,t.id),t.userId&&e.add(C.USER,t.userId),e.add(C.DEVICE,t.deviceId||xe());var r=e.build();if(0!==Object.keys(r).length)return{identifiers:r,properties:t.properties||{},hackleProperties:this._getHackleProperties()}},t.prototype._getHackleProperties=function(){var t;return"undefined"!=typeof window&&(t=ce.generate(window)),t||{}},t}(),Se=function(){function t(){}return t.initialize=function(){Pe.get(w)||Ce()},t.reInitialize=function(){Ce()},t}();function xe(){var t=Pe.get(E);if(t)return t;var e=Pe.get(w);return e||Ce()}function ke(t){Pe.set(E,t,3650,!0)}function Me(){Pe.remove(E,!0)}function Ce(){var t=Oe();return Pe.set(w,t,3650,!0),t}var Pe=function(){function t(){}return t.get=function(t){for(var e=t+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return decodeURIComponent(i.substring(e.length,i.length))}return null},t.set=function(e,r,n,i,o,a){var s="",u="",c="";if(i){var f=t.extractDomain(document.location.hostname);s=f?"; domain=."+f:""}if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),u="; expires="+l.toUTCString()}a&&(o=!0,c="; SameSite=None"),o&&(c+="; secure");var p=e+"="+encodeURIComponent(r)+u+"; path=/"+s+c;return document.cookie=p,p},t.remove=function(e,r){t.set(e,"",-1,r,!1,!1)},t.extractDomain=function(t){var e=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,r=t.split("."),n=r[r.length-1];(n.length>4||"com"===n||"org"===n)&&(e=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i);var i=t.match(e);return i?i[0]:""},t}(),De=l.log,Ue=function(){function t(t,e){this.hackleInternalClient=new $t(t,e),this.hackleUserResolver=new _e}return t.prototype.variation=function(t,e,r){return this.variationDetail(t,e,r).variation},t.prototype.variationDetail=function(t,e,r){var n=r||"A";try{var i=this.hackleUserResolver.resolveOrNull(e);return i?this.hackleInternalClient._experiment(t,i,n):O.of(n,N.INVALID_INPUT)}catch(e){return De.error("Unexpected exception while deciding variation for experiment[".concat(t,"]. Returning default variation[").concat(n,"] : ").concat(e)),O.of(n,N.EXCEPTION)}},t.prototype.isFeatureOn=function(t,e){return this.featureFlagDetail(t,e).isOn},t.prototype.featureFlagDetail=function(t,e){try{var r=this.hackleUserResolver.resolveOrNull(e);return r?this.hackleInternalClient._featureFlag(t,r):I.off(N.INVALID_INPUT)}catch(e){return De.error('"Unexpected exception while deciding feature flag['.concat(t,"]. Returning default value[false] : ").concat(e)),I.off(N.EXCEPTION)}},t.prototype.track=function(t,e){De.debug("track event : ".concat(JSON.stringify(t)));var r=this._convertEvent(t),n=this.hackleUserResolver.resolveOrNull(e);n&&this.hackleInternalClient._track(r,n)},t.prototype.trackPageView=function(t){De.debug("tracking page view");var e=this.hackleUserResolver.resolveOrNull(null==t?void 0:t.user);e&&this.hackleInternalClient._track({key:"$page_view"},e)},t.prototype.onReady=function(t,e){void 0===e&&(e=g),this.hackleInternalClient._onReady(t,e)},t.prototype.onInitialized=function(t){return this.hackleInternalClient._onInitialized({timeout:null==t?void 0:t.timeout})},t.prototype.close=function(){De.debug("Hackle Client is closing"),this.hackleInternalClient._close()},t.prototype._convertEvent=function(t){return"string"==typeof t?{key:t}:t},t}();function Le(t){var e=new Array,r=new Array;return t.forEach((function(t){nt.isExposure(t)?e.push(t.toDto()):nt.isTrack(t)&&r.push(t.toDto())})),{exposureEvents:e,trackEvents:r}}var Fe=function(){function t(t,e,r){this.sdkKey=t,this.httpRequest=e,this.headers=r.headers,this.dispatchUrl=r.dispatchUrl,this.beaconDispatchUrl=r.beaconDispatchUrl||"",this.useBeacon=r.useBeacon||!1}return t.prototype.dispatch=function(t,e){var r={};r[h]=this.sdkKey,r[d]=this.headers[d],r[v]=this.headers[v],r[y]=(new Date).getTime().toString();var n=Le(t);this.httpRequest.postRequest(this.dispatchUrl,n,r,e)},t.prototype.dispatchXhrOrBeacon=function(t,e){if(this.useBeacon){var r={};r[h]=this.sdkKey,r[d]=this.headers[d],r[v]=this.headers[v],r[y]=(new Date).getTime().toString();var n=Le(t);this.httpRequest.sendBeacon(this.beaconDispatchUrl,n,r,e)}else this.dispatch(t,e)},t}(),je=l.log,Ve=function(){function t(t,e,r,n,i,o){this.experiments=t,this.featureFlags=e,this.buckets=r,this.eventTypes=n,this.segments=i,this.containers=o}return t.prototype.getExperimentOrNull=function(t){return this.experiments.get(t)},t.prototype.getFeatureFlagOrNull=function(t){return this.featureFlags.get(t)},t.prototype.getBucketOrNull=function(t){return this.buckets.get(t)},t.prototype.getEventTypeOrNull=function(t){return this.eventTypes.get(t)},t.prototype.getSegmentOrNull=function(t){return this.segments.get(t)},t.prototype.getContainerOrNull=function(t){return this.containers.get(t)},t.from=function(e){var r=this,n=t.associate(e.buckets,(function(t){return[t.id,r.toBucket(t)]})),i=t.associateBy(t.mapNotUndefined(e.experiments,(function(t){return r.toExperimentOrNull("AB_TEST",t)})),(function(t){return t.key})),o=t.associateBy(t.mapNotUndefined(e.featureFlags,(function(t){return r.toExperimentOrNull("FEATURE_FLAG",t)})),(function(t){return t.key})),a=t.associate(e.events,(function(t){return[t.key,new M(t.id,t.key)]})),s=t.associateBy(t.mapNotUndefined(e.segments,(function(t){return r.toSegmentOrNull(t)})),(function(t){return t.key})),u=t.associate(e.containers,(function(t){return[t.id,r.toContainer(t)]}));return new t(i,o,n,a,s,u)},t.toBucket=function(t){return new x(t.seed,t.slotSize,t.slots.map((function(t){var e=t.startInclusive,r=t.endExclusive,n=t.variationId;return new k(e,r,n)})))},t.toExperimentOrNull=function(e,r){var n=this,i=this.experimentStatusOrNull(r.execution.status),o=r.variations.map((function(t){return new S(t.id,t.key,"DROPPED"===t.status)})),a=t.associate(r.execution.userOverrides,(function(t){return[t.userId,t.variationId]})),s=t.mapNotUndefined(r.execution.segmentOverrides,(function(t){return n.toTargetRuleOrNull(t,et.IDENTIFIER)})),u=t.mapNotUndefined(r.execution.targetAudiences,(function(t){return n.toTargetOrNull(t,et.PROPERTY)})),c=t.mapNotUndefined(r.execution.targetRules,(function(t){return n.toTargetRuleOrNull(t,et.PROPERTY)})),f=this.toTargetActionOrNull(r.execution.defaultRule);return i&&f&&new _(r.id,r.key,e,r.identifierType,i,r.version,o,a,s,u,c,f,r.containerId,r.winnerVariationId)},t.experimentStatusOrNull=function(t){switch(t){case"READY":return"DRAFT";case"RUNNING":return"RUNNING";case"PAUSED":return"PAUSED";case"STOPPED":return"COMPLETED";default:return void je.debug("Unsupported status [".concat(t,"]"))}},t.toTargetRuleOrNull=function(t,e){var r=this.toTargetOrNull(t.target,e),n=this.toTargetActionOrNull(t.action);return r&&n&&new V(r,n)},t.toTargetActionOrNull=function(t){var e=this.parseOrNull(Q,t.type);return e&&new j(e,t.variationId,t.bucketId)},t.toTargetOrNull=function(e,r){var n=this,i=t.mapNotUndefined(e.conditions,(function(t){return n.toConditionOrNull(t,r)}));return new D(i)},t.toConditionOrNull=function(t,e){var r=this.toTargetKeyOrNull(t.key);if(r&&e.supports(r.type)){var n=this.toTargetMatchOrNull(t.match);return n&&new U(r,n)}},t.toTargetKeyOrNull=function(t){var e=this.parseOrNull(J,t.type);return e&&new L(e,t.name)},t.toTargetMatchOrNull=function(t){var e=this.parseOrNull(Y,t.type),r=this.parseOrNull(Z,t.operator),n=this.parseOrNull($,t.valueType);return e&&r&&n&&new F(e,r,n,t.values)},t.toSegmentOrNull=function(t){var e=this,r=this.parseOrNull(tt,t.type);return r&&new G(t.id,t.key,r,this.mapNotUndefined(t.targets,(function(t){return e.toTargetOrNull(t,et.SEGMENT)})))},t.toContainer=function(t){var e=this;return new H(t.id,t.bucketId,t.groups.map((function(t){return e.toContainerGroup(t)})))},t.toContainerGroup=function(t){return new B(t.id,t.experiments)},t.parseOrNull=function(t,e){var r=t.find((function(t){return t===e}));return r||je.debug("Unsupported type [".concat(e,"]. Please use the latest version of sdk.")),r},t.mapNotUndefined=function(t,e){return t.reduce((function(t,r){var n=e(r);return n&&t.push(n),t}),Array())},t.associateTo=function(t,e,r){return t.reduce((function(t,e){var n=r(e);return t.set(n[0],n[1]),t}),e)},t.associate=function(e,r){return t.associateTo(e,new Map,r)},t.associateBy=function(t,e){return this.associateTo(t,new Map,(function(t){return[e(t),t]}))},t}(),Ge=function(){function t(t,e,r){var n=this;this.workspace=null,this.sdkKey=t,this.httpRequest=e,this.isStarted=!1,this.updateInterval=r.updateInterval,this.fetchUrl=r.fetchUrl,this.headers=r.headers,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(t,e){n.readyPromiseResolver=t,n.readyPromiseRejecter=e})),this.currentTimeout=null,this.errorRetryController=new He,this.currentRequest=null,this.syncOnCurrentRequestComplete=!1,this.isReadyPromiseSettled=!1}return t.prototype.onReady=function(){return this.readyPromise},t.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.errorRetryController.reset(),this.fetch())},t.prototype.stop=function(){return this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},t.prototype.get=function(){return this.workspace},t.prototype.scheduleNextUpdate=function(){var t=this,e=this.errorRetryController.getDelay(),r=Math.max(e,this.updateInterval);this.currentTimeout=setTimeout((function(){t.currentRequest?t.syncOnCurrentRequestComplete=!0:t.fetch()}),r)},t.prototype.fetch=function(){var t,e=this,r=((t={})[h]=this.sdkKey,t[y]=(new Date).getTime().toString(),t[d]=this.headers[d],t[v]=this.headers[v],t);this.currentRequest=this.httpRequest.getRequest(this.fetchUrl,r);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.updateInterval>0&&this.scheduleNextUpdate()},t.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.syncOnCurrentRequestComplete&&this.fetch(),this.syncOnCurrentRequestComplete=!1)},t.prototype.onRequestResolved=function(t){if(this.isStarted){if(void 0!==t.statusCode&&t.statusCode>=200&&t.statusCode<400)this.errorRetryController.reset();else{if(401===t.statusCode||403===t.statusCode)return void this.readyPromiseRejecter(new Error("Invalid key provided."));this.errorRetryController.countError()}if(t.body){var e=JSON.parse(t.body);this.workspace=Ve.from(e),this.readyPromiseResolver()}}},t.prototype.onRequestRejected=function(t){this.isStarted&&(this.errorRetryController.countError(),console.error("Error fetching data",t))},t.prototype.close=function(){this.stop()},t}(),He=function(){function t(){this.errorCount=0}return t.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*m[Math.min(m.length-1,this.errorCount)]+Math.round(1e3*Math.random())},t.prototype.countError=function(){this.errorCount<m.length-1&&this.errorCount++},t.prototype.reset=function(){this.errorCount=0},t}(),Be="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ze=function(t){return t&&t.Math==Math&&t},Ke=ze("object"==typeof globalThis&&globalThis)||ze("object"==typeof window&&window)||ze("object"==typeof self&&self)||ze("object"==typeof Be&&Be)||function(){return this}()||Function("return this")(),qe={},Xe=function(t){try{return!!t()}catch(t){return!0}},We=!Xe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ye=!Xe((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),$e=Ye,Ze=Function.prototype.call,Qe=$e?Ze.bind(Ze):function(){return Ze.apply(Ze,arguments)},Je={},tr={}.propertyIsEnumerable,er=Object.getOwnPropertyDescriptor,rr=er&&!tr.call({1:2},1);Je.f=rr?function(t){var e=er(this,t);return!!e&&e.enumerable}:tr;var nr,ir,or=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ar=Ye,sr=Function.prototype,ur=sr.bind,cr=sr.call,fr=ar&&ur.bind(cr,cr),lr=ar?function(t){return t&&fr(t)}:function(t){return t&&function(){return cr.apply(t,arguments)}},pr=lr,hr=pr({}.toString),dr=pr("".slice),vr=function(t){return dr(hr(t),8,-1)},yr=Xe,gr=vr,mr=Object,wr=lr("".split),Er=yr((function(){return!mr("z").propertyIsEnumerable(0)}))?function(t){return"String"==gr(t)?wr(t,""):mr(t)}:mr,Tr=TypeError,br=function(t){if(null==t)throw Tr("Can't call method on "+t);return t},Ar=Er,Rr=br,Or=function(t){return Ar(Rr(t))},Ir=function(t){return"function"==typeof t},Nr=Ir,_r=function(t){return"object"==typeof t?null!==t:Nr(t)},Sr=Ke,xr=Ir,kr=function(t){return xr(t)?t:void 0},Mr=function(t,e){return arguments.length<2?kr(Sr[t]):Sr[t]&&Sr[t][e]},Cr=lr({}.isPrototypeOf),Pr=Mr("navigator","userAgent")||"",Dr=Ke,Ur=Pr,Lr=Dr.process,Fr=Dr.Deno,jr=Lr&&Lr.versions||Fr&&Fr.version,Vr=jr&&jr.v8;Vr&&(ir=(nr=Vr.split("."))[0]>0&&nr[0]<4?1:+(nr[0]+nr[1])),!ir&&Ur&&(!(nr=Ur.match(/Edge\/(\d+)/))||nr[1]>=74)&&(nr=Ur.match(/Chrome\/(\d+)/))&&(ir=+nr[1]);var Gr=ir,Hr=Gr,Br=Xe,zr=!!Object.getOwnPropertySymbols&&!Br((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Hr&&Hr<41})),Kr=zr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,qr=Mr,Xr=Ir,Wr=Cr,Yr=Object,$r=Kr?function(t){return"symbol"==typeof t}:function(t){var e=qr("Symbol");return Xr(e)&&Wr(e.prototype,Yr(t))},Zr=String,Qr=function(t){try{return Zr(t)}catch(t){return"Object"}},Jr=Ir,tn=Qr,en=TypeError,rn=function(t){if(Jr(t))return t;throw en(tn(t)+" is not a function")},nn=rn,on=function(t,e){var r=t[e];return null==r?void 0:nn(r)},an=Qe,sn=Ir,un=_r,cn=TypeError,fn={exports:{}},ln=Ke,pn=Object.defineProperty,hn=function(t,e){try{pn(ln,t,{value:e,configurable:!0,writable:!0})}catch(r){ln[t]=e}return e},dn=hn,vn="__core-js_shared__",yn=Ke[vn]||dn(vn,{}),gn=yn;(fn.exports=function(t,e){return gn[t]||(gn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.24.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"});var mn=br,wn=Object,En=function(t){return wn(mn(t))},Tn=En,bn=lr({}.hasOwnProperty),An=Object.hasOwn||function(t,e){return bn(Tn(t),e)},Rn=lr,On=0,In=Math.random(),Nn=Rn(1..toString),_n=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Nn(++On+In,36)},Sn=Ke,xn=fn.exports,kn=An,Mn=_n,Cn=zr,Pn=Kr,Dn=xn("wks"),Un=Sn.Symbol,Ln=Un&&Un.for,Fn=Pn?Un:Un&&Un.withoutSetter||Mn,jn=function(t){if(!kn(Dn,t)||!Cn&&"string"!=typeof Dn[t]){var e="Symbol."+t;Cn&&kn(Un,t)?Dn[t]=Un[t]:Dn[t]=Pn&&Ln?Ln(e):Fn(e)}return Dn[t]},Vn=Qe,Gn=_r,Hn=$r,Bn=on,zn=function(t,e){var r,n;if("string"===e&&sn(r=t.toString)&&!un(n=an(r,t)))return n;if(sn(r=t.valueOf)&&!un(n=an(r,t)))return n;if("string"!==e&&sn(r=t.toString)&&!un(n=an(r,t)))return n;throw cn("Can't convert object to primitive value")},Kn=TypeError,qn=jn("toPrimitive"),Xn=function(t,e){if(!Gn(t)||Hn(t))return t;var r,n=Bn(t,qn);if(n){if(void 0===e&&(e="default"),r=Vn(n,t,e),!Gn(r)||Hn(r))return r;throw Kn("Can't convert object to primitive value")}return void 0===e&&(e="number"),zn(t,e)},Wn=$r,Yn=function(t){var e=Xn(t,"string");return Wn(e)?e:e+""},$n=_r,Zn=Ke.document,Qn=$n(Zn)&&$n(Zn.createElement),Jn=function(t){return Qn?Zn.createElement(t):{}},ti=Jn,ei=!We&&!Xe((function(){return 7!=Object.defineProperty(ti("div"),"a",{get:function(){return 7}}).a})),ri=We,ni=Qe,ii=Je,oi=or,ai=Or,si=Yn,ui=An,ci=ei,fi=Object.getOwnPropertyDescriptor;qe.f=ri?fi:function(t,e){if(t=ai(t),e=si(e),ci)try{return fi(t,e)}catch(t){}if(ui(t,e))return oi(!ni(ii.f,t,e),t[e])};var li={},pi=We&&Xe((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),hi=_r,di=String,vi=TypeError,yi=function(t){if(hi(t))return t;throw vi(di(t)+" is not an object")},gi=We,mi=ei,wi=pi,Ei=yi,Ti=Yn,bi=TypeError,Ai=Object.defineProperty,Ri=Object.getOwnPropertyDescriptor,Oi="enumerable",Ii="configurable",Ni="writable";li.f=gi?wi?function(t,e,r){if(Ei(t),e=Ti(e),Ei(r),"function"==typeof t&&"prototype"===e&&"value"in r&&Ni in r&&!r.writable){var n=Ri(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:Ii in r?r.configurable:n.configurable,enumerable:Oi in r?r.enumerable:n.enumerable,writable:!1})}return Ai(t,e,r)}:Ai:function(t,e,r){if(Ei(t),e=Ti(e),Ei(r),mi)try{return Ai(t,e,r)}catch(t){}if("get"in r||"set"in r)throw bi("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var _i=li,Si=or,xi=We?function(t,e,r){return _i.f(t,e,Si(1,r))}:function(t,e,r){return t[e]=r,t},ki={exports:{}},Mi=We,Ci=An,Pi=Function.prototype,Di=Mi&&Object.getOwnPropertyDescriptor,Ui=Ci(Pi,"name"),Li={EXISTS:Ui,PROPER:Ui&&"something"===function(){}.name,CONFIGURABLE:Ui&&(!Mi||Mi&&Di(Pi,"name").configurable)},Fi=Ir,ji=yn,Vi=lr(Function.toString);Fi(ji.inspectSource)||(ji.inspectSource=function(t){return Vi(t)});var Gi,Hi,Bi,zi=ji.inspectSource,Ki=Ir,qi=zi,Xi=Ke.WeakMap,Wi=Ki(Xi)&&/native code/.test(qi(Xi)),Yi=fn.exports,$i=_n,Zi=Yi("keys"),Qi=function(t){return Zi[t]||(Zi[t]=$i(t))},Ji={},to=Wi,eo=Ke,ro=lr,no=_r,io=xi,oo=An,ao=yn,so=Qi,uo=Ji,co="Object already initialized",fo=eo.TypeError,lo=eo.WeakMap;if(to||ao.state){var po=ao.state||(ao.state=new lo),ho=ro(po.get),vo=ro(po.has),yo=ro(po.set);Gi=function(t,e){if(vo(po,t))throw new fo(co);return e.facade=t,yo(po,t,e),e},Hi=function(t){return ho(po,t)||{}},Bi=function(t){return vo(po,t)}}else{var go=so("state");uo[go]=!0,Gi=function(t,e){if(oo(t,go))throw new fo(co);return e.facade=t,io(t,go,e),e},Hi=function(t){return oo(t,go)?t[go]:{}},Bi=function(t){return oo(t,go)}}var mo={set:Gi,get:Hi,has:Bi,enforce:function(t){return Bi(t)?Hi(t):Gi(t,{})},getterFor:function(t){return function(e){var r;if(!no(e)||(r=Hi(e)).type!==t)throw fo("Incompatible receiver, "+t+" required");return r}}},wo=Xe,Eo=Ir,To=An,bo=We,Ao=Li.CONFIGURABLE,Ro=zi,Oo=mo.enforce,Io=mo.get,No=Object.defineProperty,_o=bo&&!wo((function(){return 8!==No((function(){}),"length",{value:8}).length})),So=String(String).split("String"),xo=ki.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!To(t,"name")||Ao&&t.name!==e)&&(bo?No(t,"name",{value:e,configurable:!0}):t.name=e),_o&&r&&To(r,"arity")&&t.length!==r.arity&&No(t,"length",{value:r.arity});try{r&&To(r,"constructor")&&r.constructor?bo&&No(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Oo(t);return To(n,"source")||(n.source=So.join("string"==typeof e?e:"")),t};Function.prototype.toString=xo((function(){return Eo(this)&&Io(this).source||Ro(this)}),"toString");var ko=Ir,Mo=li,Co=ki.exports,Po=hn,Do=function(t,e,r,n){n||(n={});var i=n.enumerable,o=void 0!==n.name?n.name:e;if(ko(r)&&Co(r,o,n),n.global)i?t[e]=r:Po(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=r:Mo.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},Uo={},Lo=Math.ceil,Fo=Math.floor,jo=Math.trunc||function(t){var e=+t;return(e>0?Fo:Lo)(e)},Vo=function(t){var e=+t;return e!=e||0===e?0:jo(e)},Go=Vo,Ho=Math.max,Bo=Math.min,zo=function(t,e){var r=Go(t);return r<0?Ho(r+e,0):Bo(r,e)},Ko=Vo,qo=Math.min,Xo=function(t){return t>0?qo(Ko(t),9007199254740991):0},Wo=function(t){return Xo(t.length)},Yo=Or,$o=zo,Zo=Wo,Qo=function(t){return function(e,r,n){var i,o=Yo(e),a=Zo(o),s=$o(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},Jo={includes:Qo(!0),indexOf:Qo(!1)},ta=An,ea=Or,ra=Jo.indexOf,na=Ji,ia=lr([].push),oa=function(t,e){var r,n=ea(t),i=0,o=[];for(r in n)!ta(na,r)&&ta(n,r)&&ia(o,r);for(;e.length>i;)ta(n,r=e[i++])&&(~ra(o,r)||ia(o,r));return o},aa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sa=oa,ua=aa.concat("length","prototype");Uo.f=Object.getOwnPropertyNames||function(t){return sa(t,ua)};var ca={};ca.f=Object.getOwnPropertySymbols;var fa=Mr,la=Uo,pa=ca,ha=yi,da=lr([].concat),va=fa("Reflect","ownKeys")||function(t){var e=la.f(ha(t)),r=pa.f;return r?da(e,r(t)):e},ya=An,ga=va,ma=qe,wa=li,Ea=function(t,e,r){for(var n=ga(e),i=wa.f,o=ma.f,a=0;a<n.length;a++){var s=n[a];ya(t,s)||r&&ya(r,s)||i(t,s,o(e,s))}},Ta=Xe,ba=Ir,Aa=/#|\.prototype\./,Ra=function(t,e){var r=Ia[Oa(t)];return r==_a||r!=Na&&(ba(e)?Ta(e):!!e)},Oa=Ra.normalize=function(t){return String(t).replace(Aa,".").toLowerCase()},Ia=Ra.data={},Na=Ra.NATIVE="N",_a=Ra.POLYFILL="P",Sa=Ra,xa=Ke,ka=qe.f,Ma=xi,Ca=Do,Pa=hn,Da=Ea,Ua=Sa,La=function(t,e){var r,n,i,o,a,s=t.target,u=t.global,c=t.stat;if(r=u?xa:c?xa[s]||Pa(s,{}):(xa[s]||{}).prototype)for(n in e){if(o=e[n],i=t.dontCallGetSet?(a=ka(r,n))&&a.value:r[n],!Ua(u?n:s+(c?".":"#")+n,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;Da(o,i)}(t.sham||i&&i.sham)&&Ma(o,"sham",!0),Ca(r,n,o,t)}},Fa=!Xe((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ja=An,Va=Ir,Ga=En,Ha=Fa,Ba=Qi("IE_PROTO"),za=Object,Ka=za.prototype,qa=Ha?za.getPrototypeOf:function(t){var e=Ga(t);if(ja(e,Ba))return e[Ba];var r=e.constructor;return Va(r)&&e instanceof r?r.prototype:e instanceof za?Ka:null},Xa=Ir,Wa=String,Ya=TypeError,$a=lr,Za=yi,Qa=function(t){if("object"==typeof t||Xa(t))return t;throw Ya("Can't set "+Wa(t)+" as a prototype")},Ja=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=$a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Za(r),Qa(n),e?t(r,n):r.__proto__=n,r}}():void 0),ts={},es=oa,rs=aa,ns=Object.keys||function(t){return es(t,rs)},is=We,os=pi,as=li,ss=yi,us=Or,cs=ns;ts.f=is&&!os?Object.defineProperties:function(t,e){ss(t);for(var r,n=us(e),i=cs(e),o=i.length,a=0;o>a;)as.f(t,r=i[a++],n[r]);return t};var fs,ls=Mr("document","documentElement"),ps=yi,hs=ts,ds=aa,vs=Ji,ys=ls,gs=Jn,ms=Qi("IE_PROTO"),ws=function(){},Es=function(t){return"<script>"+t+"</"+"script>"},Ts=function(t){t.write(Es("")),t.close();var e=t.parentWindow.Object;return t=null,e},bs=function(){try{fs=new ActiveXObject("htmlfile")}catch(t){}var t,e;bs="undefined"!=typeof document?document.domain&&fs?Ts(fs):((e=gs("iframe")).style.display="none",ys.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Es("document.F=Object")),t.close(),t.F):Ts(fs);for(var r=ds.length;r--;)delete bs.prototype[ds[r]];return bs()};vs[ms]=!0;var As=Object.create||function(t,e){var r;return null!==t?(ws.prototype=ps(t),r=new ws,ws.prototype=null,r[ms]=t):r=bs(),void 0===e?r:hs.f(r,e)},Rs=Error,Os=lr("".replace),Is=String(Rs("zxcasd").stack),Ns=/\n\s*at [^:]*:[^\n]*/,_s=Ns.test(Is),Ss=_r,xs=xi,ks=rn,Ms=Ye,Cs=lr(lr.bind),Ps=function(t,e){return ks(t),void 0===e?t:Ms?Cs(t,e):function(){return t.apply(e,arguments)}},Ds={},Us=Ds,Ls=jn("iterator"),Fs=Array.prototype,js=function(t){return void 0!==t&&(Us.Array===t||Fs[Ls]===t)},Vs={};Vs[jn("toStringTag")]="z";var Gs="[object z]"===String(Vs),Hs=Gs,Bs=Ir,zs=vr,Ks=jn("toStringTag"),qs=Object,Xs="Arguments"==zs(function(){return arguments}()),Ws=Hs?zs:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=qs(t),Ks))?r:Xs?zs(e):"Object"==(n=zs(e))&&Bs(e.callee)?"Arguments":n},Ys=Ws,$s=on,Zs=Ds,Qs=jn("iterator"),Js=function(t){if(null!=t)return $s(t,Qs)||$s(t,"@@iterator")||Zs[Ys(t)]},tu=Qe,eu=rn,ru=yi,nu=Qr,iu=Js,ou=TypeError,au=function(t,e){var r=arguments.length<2?iu(t):e;if(eu(r))return ru(tu(r,t));throw ou(nu(t)+" is not iterable")},su=Qe,uu=yi,cu=on,fu=function(t,e,r){var n,i;uu(t);try{if(!(n=cu(t,"return"))){if("throw"===e)throw r;return r}n=su(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return uu(n),r},lu=Ps,pu=Qe,hu=yi,du=Qr,vu=js,yu=Wo,gu=Cr,mu=au,wu=Js,Eu=fu,Tu=TypeError,bu=function(t,e){this.stopped=t,this.result=e},Au=bu.prototype,Ru=function(t,e,r){var n,i,o,a,s,u,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),h=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),v=lu(e,f),y=function(t){return n&&Eu(n,"normal",t),new bu(!0,t)},g=function(t){return l?(hu(t),d?v(t[0],t[1],y):v(t[0],t[1])):d?v(t,y):v(t)};if(p)n=t.iterator;else if(h)n=t;else{if(!(i=wu(t)))throw Tu(du(t)+" is not iterable");if(vu(i)){for(o=0,a=yu(t);a>o;o++)if((s=g(t[o]))&&gu(Au,s))return s;return new bu(!1)}n=mu(t,i)}for(u=p?t.next:n.next;!(c=pu(u,n)).done;){try{s=g(c.value)}catch(t){Eu(n,"throw",t)}if("object"==typeof s&&s&&gu(Au,s))return s}return new bu(!1)},Ou=Ws,Iu=String,Nu=function(t){if("Symbol"===Ou(t))throw TypeError("Cannot convert a Symbol value to a string");return Iu(t)},_u=Nu,Su=or,xu=!Xe((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Su(1,7)),7!==t.stack)})),ku=La,Mu=Cr,Cu=qa,Pu=Ja,Du=Ea,Uu=As,Lu=xi,Fu=or,ju=function(t,e){if(_s&&"string"==typeof t&&!Rs.prepareStackTrace)for(;e--;)t=Os(t,Ns,"");return t},Vu=function(t,e){Ss(e)&&"cause"in e&&xs(t,"cause",e.cause)},Gu=Ru,Hu=function(t,e){return void 0===t?arguments.length<2?"":e:_u(t)},Bu=xu,zu=jn("toStringTag"),Ku=Error,qu=[].push,Xu=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,i=Mu(Wu,this);Pu?r=Pu(new Ku,i?Cu(this):Wu):(r=i?this:Uu(Wu),Lu(r,zu,"Error")),void 0!==e&&Lu(r,"message",Hu(e)),Bu&&Lu(r,"stack",ju(r.stack,1)),Vu(r,n);var o=[];return Gu(t,qu,{that:o}),Lu(r,"errors",o),r};Pu?Pu(Xu,Ku):Du(Xu,Ku,{name:!0});var Wu=Xu.prototype=Uu(Ku.prototype,{constructor:Fu(1,Xu),message:Fu(1,""),name:Fu(1,"AggregateError")});ku({global:!0,constructor:!0,arity:2},{AggregateError:Xu});var Yu=jn,$u=As,Zu=li.f,Qu=Yu("unscopables"),Ju=Array.prototype;null==Ju[Qu]&&Zu(Ju,Qu,{configurable:!0,value:$u(null)});var tc,ec,rc,nc=function(t){Ju[Qu][t]=!0},ic=Xe,oc=Ir,ac=qa,sc=Do,uc=jn("iterator"),cc=!1;[].keys&&("next"in(rc=[].keys())?(ec=ac(ac(rc)))!==Object.prototype&&(tc=ec):cc=!0);var fc=null==tc||ic((function(){var t={};return tc[uc].call(t)!==t}));fc&&(tc={}),oc(tc[uc])||sc(tc,uc,(function(){return this}));var lc={IteratorPrototype:tc,BUGGY_SAFARI_ITERATORS:cc},pc=li.f,hc=An,dc=jn("toStringTag"),vc=function(t,e,r){t&&!r&&(t=t.prototype),t&&!hc(t,dc)&&pc(t,dc,{configurable:!0,value:e})},yc=lc.IteratorPrototype,gc=As,mc=or,wc=vc,Ec=Ds,Tc=function(){return this},bc=La,Ac=Qe,Rc=Ir,Oc=function(t,e,r,n){var i=e+" Iterator";return t.prototype=gc(yc,{next:mc(+!n,r)}),wc(t,i,!1),Ec[i]=Tc,t},Ic=qa,Nc=Ja,_c=vc,Sc=xi,xc=Do,kc=Ds,Mc=Li.PROPER,Cc=Li.CONFIGURABLE,Pc=lc.IteratorPrototype,Dc=lc.BUGGY_SAFARI_ITERATORS,Uc=jn("iterator"),Lc="keys",Fc="values",jc="entries",Vc=function(){return this},Gc=function(t,e,r,n,i,o,a){Oc(r,e,n);var s,u,c,f=function(t){if(t===i&&v)return v;if(!Dc&&t in h)return h[t];switch(t){case Lc:case Fc:case jc:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,h=t.prototype,d=h[Uc]||h["@@iterator"]||i&&h[i],v=!Dc&&d||f(i),y="Array"==e&&h.entries||d;if(y&&(s=Ic(y.call(new t)))!==Object.prototype&&s.next&&(Ic(s)!==Pc&&(Nc?Nc(s,Pc):Rc(s[Uc])||xc(s,Uc,Vc)),_c(s,l,!0)),Mc&&i==Fc&&d&&d.name!==Fc&&(Cc?Sc(h,"name",Fc):(p=!0,v=function(){return Ac(d,this)})),i)if(u={values:f(Fc),keys:o?v:f(Lc),entries:f(jc)},a)for(c in u)(Dc||p||!(c in h))&&xc(h,c,u[c]);else bc({target:e,proto:!0,forced:Dc||p},u);return h[Uc]!==v&&xc(h,Uc,v,{name:i}),kc[e]=v,u},Hc=Or,Bc=nc,zc=Ds,Kc=mo,qc=li.f,Xc=Gc,Wc=We,Yc="Array Iterator",$c=Kc.set,Zc=Kc.getterFor(Yc),Qc=Xc(Array,"Array",(function(t,e){$c(this,{type:Yc,target:Hc(t),index:0,kind:e})}),(function(){var t=Zc(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),Jc=zc.Arguments=zc.Array;if(Bc("keys"),Bc("values"),Bc("entries"),Wc&&"values"!==Jc.name)try{qc(Jc,"name",{value:"values"})}catch(t){}var tf=Ws,ef=Gs?{}.toString:function(){return"[object "+tf(this)+"]"};Gs||Do(Object.prototype,"toString",ef,{unsafe:!0});var rf="process"==vr(Ke.process),nf=Mr,of=li,af=We,sf=jn("species"),uf=function(t){var e=nf(t),r=of.f;af&&e&&!e[sf]&&r(e,sf,{configurable:!0,get:function(){return this}})},cf=Cr,ff=TypeError,lf=function(t,e){if(cf(e,t))return t;throw ff("Incorrect invocation")},pf=lr,hf=Xe,df=Ir,vf=Ws,yf=zi,gf=function(){},mf=[],wf=Mr("Reflect","construct"),Ef=/^\s*(?:class|function)\b/,Tf=pf(Ef.exec),bf=!Ef.exec(gf),Af=function(t){if(!df(t))return!1;try{return wf(gf,mf,t),!0}catch(t){return!1}},Rf=function(t){if(!df(t))return!1;switch(vf(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return bf||!!Tf(Ef,yf(t))}catch(t){return!0}};Rf.sham=!0;var Of,If,Nf,_f,Sf=!wf||hf((function(){var t;return Af(Af.call)||!Af(Object)||!Af((function(){t=!0}))||t}))?Rf:Af,xf=Sf,kf=Qr,Mf=TypeError,Cf=yi,Pf=function(t){if(xf(t))return t;throw Mf(kf(t)+" is not a constructor")},Df=jn("species"),Uf=function(t,e){var r,n=Cf(t).constructor;return void 0===n||null==(r=Cf(n)[Df])?e:Pf(r)},Lf=Ye,Ff=Function.prototype,jf=Ff.apply,Vf=Ff.call,Gf="object"==typeof Reflect&&Reflect.apply||(Lf?Vf.bind(jf):function(){return Vf.apply(jf,arguments)}),Hf=lr([].slice),Bf=TypeError,zf=/(?:ipad|iphone|ipod).*applewebkit/i.test(Pr),Kf=Ke,qf=Gf,Xf=Ps,Wf=Ir,Yf=An,$f=Xe,Zf=ls,Qf=Hf,Jf=Jn,tl=function(t,e){if(t<e)throw Bf("Not enough arguments");return t},el=zf,rl=rf,nl=Kf.setImmediate,il=Kf.clearImmediate,ol=Kf.process,al=Kf.Dispatch,sl=Kf.Function,ul=Kf.MessageChannel,cl=Kf.String,fl=0,ll={},pl="onreadystatechange";try{Of=Kf.location}catch(t){}var hl=function(t){if(Yf(ll,t)){var e=ll[t];delete ll[t],e()}},dl=function(t){return function(){hl(t)}},vl=function(t){hl(t.data)},yl=function(t){Kf.postMessage(cl(t),Of.protocol+"//"+Of.host)};nl&&il||(nl=function(t){tl(arguments.length,1);var e=Wf(t)?t:sl(t),r=Qf(arguments,1);return ll[++fl]=function(){qf(e,void 0,r)},If(fl),fl},il=function(t){delete ll[t]},rl?If=function(t){ol.nextTick(dl(t))}:al&&al.now?If=function(t){al.now(dl(t))}:ul&&!el?(_f=(Nf=new ul).port2,Nf.port1.onmessage=vl,If=Xf(_f.postMessage,_f)):Kf.addEventListener&&Wf(Kf.postMessage)&&!Kf.importScripts&&Of&&"file:"!==Of.protocol&&!$f(yl)?(If=yl,Kf.addEventListener("message",vl,!1)):If=pl in Jf("script")?function(t){Zf.appendChild(Jf("script")).onreadystatechange=function(){Zf.removeChild(this),hl(t)}}:function(t){setTimeout(dl(t),0)});var gl,ml,wl,El,Tl,bl,Al,Rl,Ol={set:nl,clear:il},Il=Ke,Nl=/ipad|iphone|ipod/i.test(Pr)&&void 0!==Il.Pebble,_l=/web0s(?!.*chrome)/i.test(Pr),Sl=Ke,xl=Ps,kl=qe.f,Ml=Ol.set,Cl=zf,Pl=Nl,Dl=_l,Ul=rf,Ll=Sl.MutationObserver||Sl.WebKitMutationObserver,Fl=Sl.document,jl=Sl.process,Vl=Sl.Promise,Gl=kl(Sl,"queueMicrotask"),Hl=Gl&&Gl.value;Hl||(gl=function(){var t,e;for(Ul&&(t=jl.domain)&&t.exit();ml;){e=ml.fn,ml=ml.next;try{e()}catch(t){throw ml?El():wl=void 0,t}}wl=void 0,t&&t.enter()},Cl||Ul||Dl||!Ll||!Fl?!Pl&&Vl&&Vl.resolve?((Al=Vl.resolve(void 0)).constructor=Vl,Rl=xl(Al.then,Al),El=function(){Rl(gl)}):Ul?El=function(){jl.nextTick(gl)}:(Ml=xl(Ml,Sl),El=function(){Ml(gl)}):(Tl=!0,bl=Fl.createTextNode(""),new Ll(gl).observe(bl,{characterData:!0}),El=function(){bl.data=Tl=!Tl}));var Bl=Hl||function(t){var e={fn:t,next:void 0};wl&&(wl.next=e),ml||(ml=e,El()),wl=e},zl=Ke,Kl=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ql=function(){this.head=null,this.tail=null};ql.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Xl=ql,Wl=Ke.Promise,Yl="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,$l=!Yl&&!rf&&"object"==typeof window&&"object"==typeof document,Zl=Ke,Ql=Wl,Jl=Ir,tp=Sa,ep=zi,rp=jn,np=$l,ip=Yl,op=Gr;Ql&&Ql.prototype;var ap=rp("species"),sp=!1,up=Jl(Zl.PromiseRejectionEvent),cp=tp("Promise",(function(){var t=ep(Ql),e=t!==String(Ql);if(!e&&66===op)return!0;if(!op||op<51||!/native code/.test(t)){var r=new Ql((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[ap]=n,!(sp=r.then((function(){}))instanceof n))return!0}return!e&&(np||ip)&&!up})),fp={CONSTRUCTOR:cp,REJECTION_EVENT:up,SUBCLASSING:sp},lp={},pp=rn,hp=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=pp(e),this.reject=pp(r)};lp.f=function(t){return new hp(t)};var dp,vp,yp,gp=La,mp=rf,wp=Ke,Ep=Qe,Tp=Do,bp=Ja,Ap=vc,Rp=uf,Op=rn,Ip=Ir,Np=_r,_p=lf,Sp=Uf,xp=Ol.set,kp=Bl,Mp=function(t,e){var r=zl.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},Cp=Kl,Pp=Xl,Dp=mo,Up=Wl,Lp=lp,Fp="Promise",jp=fp.CONSTRUCTOR,Vp=fp.REJECTION_EVENT,Gp=fp.SUBCLASSING,Hp=Dp.getterFor(Fp),Bp=Dp.set,zp=Up&&Up.prototype,Kp=Up,qp=zp,Xp=wp.TypeError,Wp=wp.document,Yp=wp.process,$p=Lp.f,Zp=$p,Qp=!!(Wp&&Wp.createEvent&&wp.dispatchEvent),Jp="unhandledrejection",th=function(t){var e;return!(!Np(t)||!Ip(e=t.then))&&e},eh=function(t,e){var r,n,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&ah(e),e.rejection=1),!0===s?r=o:(f&&f.enter(),r=s(o),f&&(f.exit(),i=!0)),r===t.promise?c(Xp("Promise-chain cycle")):(n=th(r))?Ep(n,r,u,c):u(r)):c(o)}catch(t){f&&!i&&f.exit(),c(t)}},rh=function(t,e){t.notified||(t.notified=!0,kp((function(){for(var r,n=t.reactions;r=n.get();)eh(r,t);t.notified=!1,e&&!t.rejection&&ih(t)})))},nh=function(t,e,r){var n,i;Qp?((n=Wp.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),wp.dispatchEvent(n)):n={promise:e,reason:r},!Vp&&(i=wp["on"+t])?i(n):t===Jp&&Mp("Unhandled promise rejection",r)},ih=function(t){Ep(xp,wp,(function(){var e,r=t.facade,n=t.value;if(oh(t)&&(e=Cp((function(){mp?Yp.emit("unhandledRejection",n,r):nh(Jp,r,n)})),t.rejection=mp||oh(t)?2:1,e.error))throw e.value}))},oh=function(t){return 1!==t.rejection&&!t.parent},ah=function(t){Ep(xp,wp,(function(){var e=t.facade;mp?Yp.emit("rejectionHandled",e):nh("rejectionhandled",e,t.value)}))},sh=function(t,e,r){return function(n){t(e,n,r)}},uh=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,rh(t,!0))},ch=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Xp("Promise can't be resolved itself");var n=th(e);n?kp((function(){var r={done:!1};try{Ep(n,e,sh(ch,r,t),sh(uh,r,t))}catch(e){uh(r,e,t)}})):(t.value=e,t.state=1,rh(t,!1))}catch(e){uh({done:!1},e,t)}}};if(jp&&(qp=(Kp=function(t){_p(this,qp),Op(t),Ep(dp,this);var e=Hp(this);try{t(sh(ch,e),sh(uh,e))}catch(t){uh(e,t)}}).prototype,(dp=function(t){Bp(this,{type:Fp,done:!1,notified:!1,parent:!1,reactions:new Pp,rejection:!1,state:0,value:void 0})}).prototype=Tp(qp,"then",(function(t,e){var r=Hp(this),n=$p(Sp(this,Kp));return r.parent=!0,n.ok=!Ip(t)||t,n.fail=Ip(e)&&e,n.domain=mp?Yp.domain:void 0,0==r.state?r.reactions.add(n):kp((function(){eh(n,r)})),n.promise})),vp=function(){var t=new dp,e=Hp(t);this.promise=t,this.resolve=sh(ch,e),this.reject=sh(uh,e)},Lp.f=$p=function(t){return t===Kp||undefined===t?new vp(t):Zp(t)},Ip(Up)&&zp!==Object.prototype)){yp=zp.then,Gp||Tp(zp,"then",(function(t,e){var r=this;return new Kp((function(t,e){Ep(yp,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete zp.constructor}catch(t){}bp&&bp(zp,qp)}gp({global:!0,constructor:!0,wrap:!0,forced:jp},{Promise:Kp}),Ap(Kp,Fp,!1),Rp(Fp);var fh=jn("iterator"),lh=!1;try{var ph=0,hh={next:function(){return{done:!!ph++}},return:function(){lh=!0}};hh[fh]=function(){return this},Array.from(hh,(function(){throw 2}))}catch(t){}var dh=function(t,e){if(!e&&!lh)return!1;var r=!1;try{var n={};n[fh]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},vh=Wl,yh=fp.CONSTRUCTOR||!dh((function(t){vh.all(t).then(void 0,(function(){}))})),gh=Qe,mh=rn,wh=lp,Eh=Kl,Th=Ru;La({target:"Promise",stat:!0,forced:yh},{all:function(t){var e=this,r=wh.f(e),n=r.resolve,i=r.reject,o=Eh((function(){var r=mh(e.resolve),o=[],a=0,s=1;Th(t,(function(t){var u=a++,c=!1;s++,gh(r,e,t).then((function(t){c||(c=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise}});var bh=La,Ah=fp.CONSTRUCTOR,Rh=Wl,Oh=Mr,Ih=Ir,Nh=Do,_h=Rh&&Rh.prototype;if(bh({target:"Promise",proto:!0,forced:Ah,real:!0},{catch:function(t){return this.then(void 0,t)}}),Ih(Rh)){var Sh=Oh("Promise").prototype.catch;_h.catch!==Sh&&Nh(_h,"catch",Sh,{unsafe:!0})}var xh=Qe,kh=rn,Mh=lp,Ch=Kl,Ph=Ru;La({target:"Promise",stat:!0,forced:yh},{race:function(t){var e=this,r=Mh.f(e),n=r.reject,i=Ch((function(){var i=kh(e.resolve);Ph(t,(function(t){xh(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Dh=Qe,Uh=lp;La({target:"Promise",stat:!0,forced:fp.CONSTRUCTOR},{reject:function(t){var e=Uh.f(this);return Dh(e.reject,void 0,t),e.promise}});var Lh=yi,Fh=_r,jh=lp,Vh=function(t,e){if(Lh(t),Fh(e)&&e.constructor===t)return e;var r=jh.f(t);return(0,r.resolve)(e),r.promise},Gh=La,Hh=fp.CONSTRUCTOR,Bh=Vh;Mr("Promise"),Gh({target:"Promise",stat:!0,forced:Hh},{resolve:function(t){return Bh(this,t)}});var zh=Qe,Kh=rn,qh=lp,Xh=Kl,Wh=Ru;La({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=qh.f(e),n=r.resolve,i=r.reject,o=Xh((function(){var r=Kh(e.resolve),i=[],o=0,a=1;Wh(t,(function(t){var s=o++,u=!1;a++,zh(r,e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||n(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||n(i))}))})),--a||n(i)}));return o.error&&i(o.value),r.promise}});var Yh=Qe,$h=rn,Zh=Mr,Qh=lp,Jh=Kl,td=Ru,ed="No one promise resolved";La({target:"Promise",stat:!0},{any:function(t){var e=this,r=Zh("AggregateError"),n=Qh.f(e),i=n.resolve,o=n.reject,a=Jh((function(){var n=$h(e.resolve),a=[],s=0,u=1,c=!1;td(t,(function(t){var f=s++,l=!1;u++,Yh(n,e,t).then((function(t){l||c||(c=!0,i(t))}),(function(t){l||c||(l=!0,a[f]=t,--u||o(new r(a,ed)))}))})),--u||o(new r(a,ed))}));return a.error&&o(a.value),n.promise}});var rd=La,nd=Wl,id=Xe,od=Mr,ad=Ir,sd=Uf,ud=Vh,cd=Do,fd=nd&&nd.prototype;if(rd({target:"Promise",proto:!0,real:!0,forced:!!nd&&id((function(){fd.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=sd(this,od("Promise")),r=ad(t);return this.then(r?function(r){return ud(e,t()).then((function(){return r}))}:t,r?function(r){return ud(e,t()).then((function(){throw r}))}:t)}}),ad(nd)){var ld=od("Promise").prototype.finally;fd.finally!==ld&&cd(fd,"finally",ld,{unsafe:!0})}var pd=lr,hd=Vo,dd=Nu,vd=br,yd=pd("".charAt),gd=pd("".charCodeAt),md=pd("".slice),wd=function(t){return function(e,r){var n,i,o=dd(vd(e)),a=hd(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=gd(o,a))<55296||n>56319||a+1===s||(i=gd(o,a+1))<56320||i>57343?t?yd(o,a):n:t?md(o,a,a+2):i-56320+(n-55296<<10)+65536}},Ed={codeAt:wd(!1),charAt:wd(!0)}.charAt,Td=Nu,bd=mo,Ad=Gc,Rd="String Iterator",Od=bd.set,Id=bd.getterFor(Rd);Ad(String,"String",(function(t){Od(this,{type:Rd,string:Td(t),index:0})}),(function(){var t,e=Id(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Ed(r,n),e.index+=t.length,{value:t,done:!1})}));var Nd=Ke,_d=Nd.Promise,Sd=Jn("span").classList,xd=Sd&&Sd.constructor&&Sd.constructor.prototype,kd=xd===Object.prototype?void 0:xd,Md=Ke,Cd={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Pd=kd,Dd=Qc,Ud=xi,Ld=jn,Fd=Ld("iterator"),jd=Ld("toStringTag"),Vd=Dd.values,Gd=function(t,e){if(t){if(t[Fd]!==Vd)try{Ud(t,Fd,Vd)}catch(e){t[Fd]=Vd}if(t[jd]||Ud(t,jd,e),Cd[e])for(var r in Dd)if(t[r]!==Dd[r])try{Ud(t,r,Dd[r])}catch(e){t[r]=Dd[r]}}};for(var Hd in Cd)Gd(Md[Hd]&&Md[Hd].prototype,Hd);Gd(Pd,"DOMTokenList");var Bd=_d,zd=lp,Kd=Kl;La({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=zd.f(this),r=Kd(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var qd=Bd;!function(t){t.exports=qd}({exports:{}});var Xd=yi,Wd=fu,Yd=Yn,$d=li,Zd=or,Qd=function(t,e,r){var n=Yd(e);n in t?$d.f(t,n,Zd(0,r)):t[n]=r},Jd=Ps,tv=Qe,ev=En,rv=function(t,e,r,n){try{return n?e(Xd(r)[0],r[1]):e(r)}catch(e){Wd(t,"throw",e)}},nv=js,iv=Sf,ov=Wo,av=Qd,sv=au,uv=Js,cv=Array,fv=function(t){var e=ev(t),r=iv(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Jd(i,n>2?arguments[2]:void 0));var a,s,u,c,f,l,p=uv(e),h=0;if(!p||this===cv&&nv(p))for(a=ov(e),s=r?new this(a):cv(a);a>h;h++)l=o?i(e[h],h):e[h],av(s,h,l);else for(f=(c=sv(e,p)).next,s=r?new this:[];!(u=tv(f,c)).done;h++)l=o?rv(c,i,[u.value,h],!0):u.value,av(s,h,l);return s.length=h,s};La({target:"Array",stat:!0,forced:!dh((function(t){Array.from(t)}))},{from:fv});var lv=vr,pv=Array.isArray||function(t){return"Array"==lv(t)};La({target:"Array",stat:!0},{isArray:pv});var hv=Sf,dv=Qd,vv=Array;La({target:"Array",stat:!0,forced:Xe((function(){function t(){}return!(vv.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,r=new(hv(this)?this:vv)(e);e>t;)dv(r,t,arguments[t++]);return r.length=e,r}});var yv=En,gv=Wo,mv=Vo,wv=nc;La({target:"Array",proto:!0},{at:function(t){var e=yv(this),r=gv(e),n=mv(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:e[i]}}),wv("at");var Ev=TypeError,Tv=function(t){if(t>9007199254740991)throw Ev("Maximum allowed index exceeded");return t},bv=pv,Av=Sf,Rv=_r,Ov=jn("species"),Iv=Array,Nv=function(t){var e;return bv(t)&&(e=t.constructor,(Av(e)&&(e===Iv||bv(e.prototype))||Rv(e)&&null===(e=e[Ov]))&&(e=void 0)),void 0===e?Iv:e},_v=function(t,e){return new(Nv(t))(0===e?0:e)},Sv=Xe,xv=Gr,kv=jn("species"),Mv=function(t){return xv>=51||!Sv((function(){var e=[];return(e.constructor={})[kv]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Cv=La,Pv=Xe,Dv=pv,Uv=_r,Lv=En,Fv=Wo,jv=Tv,Vv=Qd,Gv=_v,Hv=Mv,Bv=Gr,zv=jn("isConcatSpreadable"),Kv=Bv>=51||!Pv((function(){var t=[];return t[zv]=!1,t.concat()[0]!==t})),qv=Hv("concat"),Xv=function(t){if(!Uv(t))return!1;var e=t[zv];return void 0!==e?!!e:Dv(t)};Cv({target:"Array",proto:!0,arity:1,forced:!Kv||!qv},{concat:function(t){var e,r,n,i,o,a=Lv(this),s=Gv(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(Xv(o=-1===e?a:arguments[e]))for(i=Fv(o),jv(u+i),r=0;r<i;r++,u++)r in o&&Vv(s,u,o[r]);else jv(u+1),Vv(s,u++,o);return s.length=u,s}});var Wv=Qr,Yv=TypeError,$v=function(t,e){if(!delete t[e])throw Yv("Cannot delete property "+Wv(e)+" of "+Wv(t))},Zv=En,Qv=zo,Jv=Wo,ty=$v,ey=Math.min,ry=[].copyWithin||function(t,e){var r=Zv(this),n=Jv(r),i=Qv(t,n),o=Qv(e,n),a=arguments.length>2?arguments[2]:void 0,s=ey((void 0===a?n:Qv(a,n))-o,n-i),u=1;for(o<i&&i<o+s&&(u=-1,o+=s-1,i+=s-1);s-- >0;)o in r?r[i]=r[o]:ty(r,i),i+=u,o+=u;return r},ny=nc;La({target:"Array",proto:!0},{copyWithin:ry}),ny("copyWithin");var iy=Ps,oy=Er,ay=En,sy=Wo,uy=_v,cy=lr([].push),fy=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,f,l){for(var p,h,d=ay(u),v=oy(d),y=iy(c,f),g=sy(v),m=0,w=l||uy,E=e?w(u,g):r||a?w(u,0):void 0;g>m;m++)if((s||m in v)&&(h=y(p=v[m],m,d),t))if(e)E[m]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:cy(E,p)}else switch(t){case 4:return!1;case 7:cy(E,p)}return o?-1:n||i?i:E}},ly={forEach:fy(0),map:fy(1),filter:fy(2),some:fy(3),every:fy(4),find:fy(5),findIndex:fy(6),filterReject:fy(7)},py=Xe,hy=function(t,e){var r=[][t];return!!r&&py((function(){r.call(null,e||function(){return 1},1)}))},dy=ly.every;La({target:"Array",proto:!0,forced:!hy("every")},{every:function(t){return dy(this,t,arguments.length>1?arguments[1]:void 0)}});var vy=En,yy=zo,gy=Wo,my=function(t){for(var e=vy(this),r=gy(e),n=arguments.length,i=yy(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,a=void 0===o?r:yy(o,r);a>i;)e[i++]=t;return e},wy=nc;La({target:"Array",proto:!0},{fill:my}),wy("fill");var Ey=ly.filter;La({target:"Array",proto:!0,forced:!Mv("filter")},{filter:function(t){return Ey(this,t,arguments.length>1?arguments[1]:void 0)}});var Ty=La,by=ly.find,Ay=nc,Ry="find",Oy=!0;Ry in[]&&Array(1).find((function(){Oy=!1})),Ty({target:"Array",proto:!0,forced:Oy},{find:function(t){return by(this,t,arguments.length>1?arguments[1]:void 0)}}),Ay(Ry);var Iy=La,Ny=ly.findIndex,_y=nc,Sy="findIndex",xy=!0;Sy in[]&&Array(1).findIndex((function(){xy=!1})),Iy({target:"Array",proto:!0,forced:xy},{findIndex:function(t){return Ny(this,t,arguments.length>1?arguments[1]:void 0)}}),_y(Sy);var ky=Ps,My=Er,Cy=En,Py=Wo,Dy=function(t){var e=1==t;return function(r,n,i){for(var o,a=Cy(r),s=My(a),u=ky(n,i),c=Py(s);c-- >0;)if(u(o=s[c],c,a))switch(t){case 0:return o;case 1:return c}return e?-1:void 0}},Uy={findLast:Dy(0),findLastIndex:Dy(1)},Ly=Uy.findLast,Fy=nc;La({target:"Array",proto:!0},{findLast:function(t){return Ly(this,t,arguments.length>1?arguments[1]:void 0)}}),Fy("findLast");var jy=Uy.findLastIndex,Vy=nc;La({target:"Array",proto:!0},{findLastIndex:function(t){return jy(this,t,arguments.length>1?arguments[1]:void 0)}}),Vy("findLastIndex");var Gy=pv,Hy=Wo,By=Tv,zy=Ps,Ky=function(t,e,r,n,i,o,a,s){for(var u,c,f=i,l=0,p=!!a&&zy(a,s);l<n;)l in r&&(u=p?p(r[l],l,e):r[l],o>0&&Gy(u)?(c=Hy(u),f=Ky(t,e,u,c,f,o-1)-1):(By(f+1),t[f]=u),f++),l++;return f},qy=Ky,Xy=qy,Wy=En,Yy=Wo,$y=Vo,Zy=_v;La({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Wy(this),r=Yy(e),n=Zy(e,0);return n.length=Xy(n,e,e,r,0,void 0===t?1:$y(t)),n}});var Qy=qy,Jy=rn,tg=En,eg=Wo,rg=_v;La({target:"Array",proto:!0},{flatMap:function(t){var e,r=tg(this),n=eg(r);return Jy(t),(e=rg(r,0)).length=Qy(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var ng=ly.forEach,ig=hy("forEach")?[].forEach:function(t){return ng(this,t,arguments.length>1?arguments[1]:void 0)};La({target:"Array",proto:!0,forced:[].forEach!=ig},{forEach:ig});var og=Jo.includes,ag=nc;La({target:"Array",proto:!0,forced:Xe((function(){return!Array(1).includes()}))},{includes:function(t){return og(this,t,arguments.length>1?arguments[1]:void 0)}}),ag("includes");var sg=La,ug=Jo.indexOf,cg=hy,fg=lr([].indexOf),lg=!!fg&&1/fg([1],1,-0)<0,pg=cg("indexOf");sg({target:"Array",proto:!0,forced:lg||!pg},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return lg?fg(this,t,e)||0:ug(this,t,e)}});var hg=La,dg=Er,vg=Or,yg=hy,gg=lr([].join),mg=dg!=Object,wg=yg("join",",");hg({target:"Array",proto:!0,forced:mg||!wg},{join:function(t){return gg(vg(this),void 0===t?",":t)}});var Eg=Gf,Tg=Or,bg=Vo,Ag=Wo,Rg=hy,Og=Math.min,Ig=[].lastIndexOf,Ng=!!Ig&&1/[1].lastIndexOf(1,-0)<0,_g=Rg("lastIndexOf"),Sg=Ng||!_g?function(t){if(Ng)return Eg(Ig,this,arguments)||0;var e=Tg(this),r=Ag(e),n=r-1;for(arguments.length>1&&(n=Og(n,bg(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:Ig;La({target:"Array",proto:!0,forced:Sg!==[].lastIndexOf},{lastIndexOf:Sg});var xg=ly.map;La({target:"Array",proto:!0,forced:!Mv("map")},{map:function(t){return xg(this,t,arguments.length>1?arguments[1]:void 0)}});var kg=La,Mg=En,Cg=Wo,Pg=Tv,Dg=Xe((function(){return 4294967297!==[].push.call({length:4294967296},1)})),Ug=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();kg({target:"Array",proto:!0,arity:1,forced:Dg||Ug},{push:function(t){var e=Mg(this),r=Cg(e),n=arguments.length;Pg(r+n);for(var i=0;i<n;i++)e[r]=arguments[i],r++;return e.length=r,r}});var Lg=rn,Fg=En,jg=Er,Vg=Wo,Gg=TypeError,Hg=function(t){return function(e,r,n,i){Lg(r);var o=Fg(e),a=jg(o),s=Vg(o),u=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw Gg("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(i=r(i,a[u],u,o));return i}},Bg={left:Hg(!1),right:Hg(!0)},zg=Bg.left,Kg=Gr,qg=rf;La({target:"Array",proto:!0,forced:!hy("reduce")||!qg&&Kg>79&&Kg<83},{reduce:function(t){var e=arguments.length;return zg(this,t,e,e>1?arguments[1]:void 0)}});var Xg=Bg.right,Wg=Gr,Yg=rf;La({target:"Array",proto:!0,forced:!hy("reduceRight")||!Yg&&Wg>79&&Wg<83},{reduceRight:function(t){return Xg(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var $g=La,Zg=pv,Qg=lr([].reverse),Jg=[1,2];$g({target:"Array",proto:!0,forced:String(Jg)===String(Jg.reverse())},{reverse:function(){return Zg(this)&&(this.length=this.length),Qg(this)}});var tm=La,em=pv,rm=Sf,nm=_r,im=zo,om=Wo,am=Or,sm=Qd,um=jn,cm=Hf,fm=Mv("slice"),lm=um("species"),pm=Array,hm=Math.max;tm({target:"Array",proto:!0,forced:!fm},{slice:function(t,e){var r,n,i,o=am(this),a=om(o),s=im(t,a),u=im(void 0===e?a:e,a);if(em(o)&&(r=o.constructor,(rm(r)&&(r===pm||em(r.prototype))||nm(r)&&null===(r=r[lm]))&&(r=void 0),r===pm||void 0===r))return cm(o,s,u);for(n=new(void 0===r?pm:r)(hm(u-s,0)),i=0;s<u;s++,i++)s in o&&sm(n,i,o[s]);return n.length=i,n}});var dm=ly.some;La({target:"Array",proto:!0,forced:!hy("some")},{some:function(t){return dm(this,t,arguments.length>1?arguments[1]:void 0)}});var vm=zo,ym=Wo,gm=Qd,mm=Array,wm=Math.max,Em=function(t,e,r){for(var n=ym(t),i=vm(e,n),o=vm(void 0===r?n:r,n),a=mm(wm(o-i,0)),s=0;i<o;i++,s++)gm(a,s,t[i]);return a.length=s,a},Tm=Em,bm=Math.floor,Am=function(t,e){var r=t.length,n=bm(r/2);return r<8?Rm(t,e):Om(t,Am(Tm(t,0,n),e),Am(Tm(t,n),e),e)},Rm=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},Om=function(t,e,r,n){for(var i=e.length,o=r.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?n(e[a],r[s])<=0?e[a++]:r[s++]:a<i?e[a++]:r[s++];return t},Im=Am,Nm=Pr.match(/firefox\/(\d+)/i),_m=!!Nm&&+Nm[1],Sm=/MSIE|Trident/.test(Pr),xm=Pr.match(/AppleWebKit\/(\d+)\./),km=!!xm&&+xm[1],Mm=La,Cm=lr,Pm=rn,Dm=En,Um=Wo,Lm=$v,Fm=Nu,jm=Xe,Vm=Im,Gm=hy,Hm=_m,Bm=Sm,zm=Gr,Km=km,qm=[],Xm=Cm(qm.sort),Wm=Cm(qm.push),Ym=jm((function(){qm.sort(void 0)})),$m=jm((function(){qm.sort(null)})),Zm=Gm("sort"),Qm=!jm((function(){if(zm)return zm<70;if(!(Hm&&Hm>3)){if(Bm)return!0;if(Km)return Km<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)qm.push({k:e+n,v:r})}for(qm.sort((function(t,e){return e.v-t.v})),n=0;n<qm.length;n++)e=qm[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));Mm({target:"Array",proto:!0,forced:Ym||!$m||!Zm||!Qm},{sort:function(t){void 0!==t&&Pm(t);var e=Dm(this);if(Qm)return void 0===t?Xm(e):Xm(e,t);var r,n,i=[],o=Um(e);for(n=0;n<o;n++)n in e&&Wm(i,e[n]);for(Vm(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Fm(e)>Fm(r)?1:-1}}(t)),r=i.length,n=0;n<r;)e[n]=i[n++];for(;n<o;)Lm(e,n++);return e}}),uf("Array");var Jm=La,tw=En,ew=zo,rw=Vo,nw=Wo,iw=Tv,ow=_v,aw=Qd,sw=$v,uw=Mv("splice"),cw=Math.max,fw=Math.min;Jm({target:"Array",proto:!0,forced:!uw},{splice:function(t,e){var r,n,i,o,a,s,u=tw(this),c=nw(u),f=ew(t,c),l=arguments.length;for(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=fw(cw(rw(e),0),c-f)),iw(c+r-n),i=ow(u,n),o=0;o<n;o++)(a=f+o)in u&&aw(i,o,u[a]);if(i.length=n,r<n){for(o=f;o<c-n;o++)s=o+r,(a=o+n)in u?u[s]=u[a]:sw(u,s);for(o=c;o>c-n+r;o--)sw(u,o-1)}else if(r>n)for(o=c-n;o>f;o--)s=o+r-1,(a=o+n-1)in u?u[s]=u[a]:sw(u,s);for(o=0;o<r;o++)u[o+f]=arguments[o+2];return u.length=c-n+r,i}}),nc("flat"),nc("flatMap");var lw=La,pw=En,hw=Wo,dw=$v,vw=Tv,yw=1!==[].unshift(0),gw=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();lw({target:"Array",proto:!0,arity:1,forced:yw||gw},{unshift:function(t){var e=pw(this),r=hw(e),n=arguments.length;if(n){vw(r+n);for(var i=r;i--;){var o=i+n;i in e?e[o]=e[i]:dw(e,o)}for(var a=0;a<n;a++)e[a]=arguments[a]}return e.length=r+n}});var mw=Nd.Array,ww={exports:{}},Ew={},Tw=vr,bw=Or,Aw=Uo.f,Rw=Em,Ow="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ew.f=function(t){return Ow&&"Window"==Tw(t)?function(t){try{return Aw(t)}catch(t){return Rw(Ow)}}(t):Aw(bw(t))};var Iw=Xe((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Nw=Xe,_w=_r,Sw=vr,xw=Iw,kw=Object.isExtensible,Mw=Nw((function(){kw(1)}))||xw?function(t){return!!_w(t)&&((!xw||"ArrayBuffer"!=Sw(t))&&(!kw||kw(t)))}:kw,Cw=!Xe((function(){return Object.isExtensible(Object.preventExtensions({}))})),Pw=La,Dw=lr,Uw=Ji,Lw=_r,Fw=An,jw=li.f,Vw=Uo,Gw=Ew,Hw=Mw,Bw=Cw,zw=!1,Kw=_n("meta"),qw=0,Xw=function(t){jw(t,Kw,{value:{objectID:"O"+qw++,weakData:{}}})},Ww=ww.exports={enable:function(){Ww.enable=function(){},zw=!0;var t=Vw.f,e=Dw([].splice),r={};r[Kw]=1,t(r).length&&(Vw.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===Kw){e(n,i,1);break}return n},Pw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gw.f}))},fastKey:function(t,e){if(!Lw(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Fw(t,Kw)){if(!Hw(t))return"F";if(!e)return"E";Xw(t)}return t[Kw].objectID},getWeakData:function(t,e){if(!Fw(t,Kw)){if(!Hw(t))return!0;if(!e)return!1;Xw(t)}return t[Kw].weakData},onFreeze:function(t){return Bw&&zw&&Hw(t)&&!Fw(t,Kw)&&Xw(t),t}};Uw[Kw]=!0;var Yw=Ir,$w=_r,Zw=Ja,Qw=La,Jw=Ke,tE=lr,eE=Sa,rE=Do,nE=ww.exports,iE=Ru,oE=lf,aE=Ir,sE=_r,uE=Xe,cE=dh,fE=vc,lE=function(t,e,r){var n,i;return Zw&&Yw(n=e.constructor)&&n!==r&&$w(i=n.prototype)&&i!==r.prototype&&Zw(t,i),t},pE=Do,hE=function(t,e,r){for(var n in e)pE(t,n,e[n],r);return t},dE=li.f,vE=As,yE=hE,gE=Ps,mE=lf,wE=Ru,EE=Gc,TE=uf,bE=We,AE=ww.exports.fastKey,RE=mo.set,OE=mo.getterFor,IE={getConstructor:function(t,e,r,n){var i=t((function(t,i){mE(t,o),RE(t,{type:e,index:vE(null),first:void 0,last:void 0,size:0}),bE||(t.size=0),null!=i&&wE(i,t[n],{that:t,AS_ENTRIES:r})})),o=i.prototype,a=OE(e),s=function(t,e,r){var n,i,o=a(t),s=u(t,e);return s?s.value=r:(o.last=s={index:i=AE(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=s),n&&(n.next=s),bE?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},u=function(t,e){var r,n=a(t),i=AE(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return yE(o,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,bE?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=u(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),bE?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=gE(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),yE(o,r?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),bE&&dE(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=OE(e),o=OE(n);EE(t,e,(function(t,e){RE(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),TE(e)}};(function(t,e,r){var n=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=n?"set":"add",a=Jw[t],s=a&&a.prototype,u=a,c={},f=function(t){var e=tE(s[t]);rE(s,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!sE(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!sE(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!sE(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(eE(t,!aE(a)||!(i||s.forEach&&!uE((function(){(new a).entries().next()})))))u=r.getConstructor(e,t,n,o),nE.enable();else if(eE(t,!0)){var l=new u,p=l[o](i?{}:-0,1)!=l,h=uE((function(){l.has(1)})),d=cE((function(t){new a(t)})),v=!i&&uE((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));d||((u=e((function(t,e){oE(t,s);var r=lE(new a,t,u);return null!=e&&iE(e,r[o],{that:r,AS_ENTRIES:n}),r}))).prototype=s,s.constructor=u),(h||v)&&(f("delete"),f("has"),n&&f("get")),(v||p)&&f(o),i&&s.clear&&delete s.clear}c[t]=u,Qw({global:!0,constructor:!0,forced:u!=a},c),fE(u,t),i||r.setStrong(u,t,n)})("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),IE);var NE=Wo,_E=function(t,e){for(var r=0,n=NE(e),i=new t(n);n>r;)i[r]=e[r++];return i},SE=Ps,xE=Er,kE=En,ME=Yn,CE=Wo,PE=As,DE=_E,UE=Array,LE=lr([].push),FE=function(t,e,r,n){for(var i,o,a,s=kE(t),u=xE(s),c=SE(e,r),f=PE(null),l=CE(u),p=0;l>p;p++)a=u[p],(o=ME(c(a,p,s)))in f?LE(f[o],a):f[o]=[a];if(n&&(i=n(s))!==UE)for(o in f)f[o]=DE(i,f[o]);return f},jE=FE,VE=nc;La({target:"Array",proto:!0},{group:function(t){var e=arguments.length>1?arguments[1]:void 0;return jE(this,t,e)}}),VE("group");var GE=FE,HE=nc;La({target:"Array",proto:!0,forced:!hy("groupBy")},{groupBy:function(t){var e=arguments.length>1?arguments[1]:void 0;return GE(this,t,e)}}),HE("groupBy");var BE=Ps,zE=lr,KE=Er,qE=En,XE=Wo,WE=Mr("Map"),YE=WE.prototype,$E=zE(YE.get),ZE=zE(YE.has),QE=zE(YE.set),JE=zE([].push),tT=function(t){for(var e,r,n=qE(this),i=KE(n),o=BE(t,arguments.length>1?arguments[1]:void 0),a=new WE,s=XE(i),u=0;s>u;u++)e=o(r=i[u],u,n),ZE(a,e)?JE($E(a,e),r):QE(a,e,[r]);return a},eT=nc,rT=tT;La({target:"Array",proto:!0,name:"groupToMap",forced:!hy("groupByToMap")},{groupByToMap:rT}),eT("groupByToMap");var nT=nc;La({target:"Array",proto:!0},{groupToMap:tT}),nT("groupToMap");var iT=Wo,oT=function(t,e){for(var r=iT(t),n=new e(r),i=0;i<r;i++)n[i]=t[r-i-1];return n},aT=Or,sT=nc,uT=Array;La({target:"Array",proto:!0},{toReversed:function(){return oT(aT(this),uT)}}),sT("toReversed");var cT=Ke,fT=function(t){return cT[t].prototype},lT=La,pT=rn,hT=Or,dT=_E,vT=nc,yT=Array,gT=lr(fT("Array").sort);lT({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&pT(t);var e=hT(this),r=dT(yT,e);return gT(r,t)}}),vT("toSorted");var mT=La,wT=nc,ET=Tv,TT=Wo,bT=zo,AT=Or,RT=Vo,OT=Array,IT=Math.max,NT=Math.min;mT({target:"Array",proto:!0},{toSpliced:function(t,e){var r,n,i,o,a=AT(this),s=TT(a),u=bT(t,s),c=arguments.length,f=0;for(0===c?r=n=0:1===c?(r=0,n=s-u):(r=c-2,n=NT(IT(RT(e),0),s-u)),i=ET(s+r-n),o=OT(i);f<u;f++)o[f]=a[f];for(;f<u+r;f++)o[f]=arguments[f-u+2];for(;f<i;f++)o[f]=a[f+n-r];return o}}),wT("toSpliced");var _T=Wo,ST=Vo,xT=RangeError,kT=function(t,e,r,n){var i=_T(t),o=ST(r),a=o<0?i+o:o;if(a>=i||a<0)throw xT("Incorrect index");for(var s=new e(i),u=0;u<i;u++)s[u]=u===a?n:t[u];return s},MT=Or,CT=Array;La({target:"Array",proto:!0},{with:function(t,e){return kT(MT(this),CT,t,e)}});var PT,DT,UT=mw,LT=Ke,FT=yn,jT=Ir,VT=qa,GT=Do,HT=jn("asyncIterator"),BT=LT.AsyncIterator,zT=FT.AsyncIteratorPrototype;if(zT)PT=zT;else if(jT(BT))PT=BT.prototype;else if(FT.USE_FUNCTION_CONSTRUCTOR||LT.USE_FUNCTION_CONSTRUCTOR)try{DT=VT(VT(VT(Function("return async function*(){}()")()))),VT(DT)===Object.prototype&&(PT=DT)}catch(t){}PT||(PT={}),jT(PT[HT])||GT(PT,HT,(function(){return this}));var KT=Qe,qT=yi,XT=As,WT=on,YT=hE,$T=mo,ZT=PT,QT=Mr("Promise"),JT="AsyncFromSyncIterator",tb=$T.set,eb=$T.getterFor(JT),rb=function(t,e,r){var n=t.done;QT.resolve(t.value).then((function(t){e({done:n,value:t})}),r)},nb=function(t){tb(this,{type:JT,iterator:qT(t),next:t.next})};nb.prototype=YT(XT(ZT),{next:function(){var t=eb(this);return new QT((function(e,r){var n=qT(KT(t.next,t.iterator));rb(n,e,r)}))},return:function(){var t=eb(this).iterator;return new QT((function(e,r){var n=WT(t,"return");if(void 0===n)return e({done:!0,value:void 0});var i=qT(KT(n,t));rb(i,e,r)}))}});var ib=nb,ob=Qe,ab=ib,sb=yi,ub=au,cb=on,fb=jn("asyncIterator"),lb=rn,pb=yi,hb=Qe,db=Mr,vb=on,yb=Qe,gb=rn,mb=yi,wb=Tv,Eb=Mr,Tb=function(t){return{iterator:t,next:lb(pb(t).next)}},bb=function(t,e,r,n){try{var i=vb(t,"return");if(i)return db("Promise").resolve(hb(i,t)).then((function(){e(r)}),(function(t){n(t)}))}catch(t){return n(t)}e(r)},Ab=function(t){var e=0==t,r=1==t,n=2==t,i=3==t;return function(t,o,a){var s=Tb(t),u=Eb("Promise"),c=s.iterator,f=s.next,l=0,p=void 0!==o;return!p&&e||gb(o),new u((function(t,s){var h=function(t){bb(c,s,t,s)},d=function(){try{if(e&&p)try{wb(l)}catch(t){h(t)}u.resolve(mb(yb(f,c))).then((function(f){try{if(mb(f).done)e?(a.length=l,t(a)):t(!i&&(n||void 0));else{var v=f.value;try{p?u.resolve(e?o(v,l):o(v)).then((function(o){if(r)d();else if(n)o?d():bb(c,t,!1,s);else if(e)try{a[l++]=o,d()}catch(t){h(t)}else o?bb(c,t,i||v,s):d()}),h):(a[l++]=v,d())}catch(t){h(t)}}}catch(t){s(t)}}),s)}catch(t){s(t)}};d()}))}},Rb={toArray:Ab(0),forEach:Ab(1),every:Ab(2),some:Ab(3),find:Ab(4)},Ob=Ps,Ib=En,Nb=Sf,_b=function(t,e){var r=arguments.length<2?cb(t,fb):e;return r?sb(ob(r,t)):new ab(ub(t))},Sb=au,xb=Js,kb=on,Mb=fT,Cb=Mr,Pb=ib,Db=Rb.toArray,Ub=jn("asyncIterator"),Lb=Mb("Array").values,Fb=function(t){var e=this,r=arguments.length,n=r>1?arguments[1]:void 0,i=r>2?arguments[2]:void 0;return new(Cb("Promise"))((function(r){var o=Ib(t);void 0!==n&&(n=Ob(n,i));var a=kb(o,Ub),s=a?void 0:xb(o)||Lb,u=Nb(e)?new e:[],c=a?_b(o,a):new Pb(Sb(o,s));r(Db(c,n,u))}))};La({target:"Array",stat:!0,forced:!0},{fromAsync:Fb});var jb=ly.filterReject,Vb=nc;La({target:"Array",proto:!0,forced:!0},{filterOut:function(t){return jb(this,t,arguments.length>1?arguments[1]:void 0)}}),Vb("filterOut");var Gb=ly.filterReject,Hb=nc;La({target:"Array",proto:!0,forced:!0},{filterReject:function(t){return Gb(this,t,arguments.length>1?arguments[1]:void 0)}}),Hb("filterReject");var Bb=La,zb=pv,Kb=Object.isFrozen,qb=function(t,e){if(!Kb||!zb(t)||!Kb(t))return!1;for(var r,n=0,i=t.length;n<i;)if(!("string"==typeof(r=t[n++])||e&&void 0===r))return!1;return 0!==i};Bb({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(t){if(!qb(t,!0))return!1;var e=t.raw;return e.length===t.length&&qb(e,!1)}});var Xb=ki.exports,Wb=li,Yb=function(t,e,r){return r.get&&Xb(r.get,e,{getter:!0}),r.set&&Xb(r.set,e,{setter:!0}),Wb.f(t,e,r)},$b=nc,Zb=En,Qb=Wo;We&&(Yb(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=Zb(this),e=Qb(t);return 0==e?void 0:t[e-1]},set:function(t){var e=Zb(this),r=Qb(e);return e[0==r?0:r-1]=t}}),$b("lastItem"));var Jb=nc,tA=En,eA=Wo;We&&(Yb(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=tA(this),e=eA(t);return 0==e?0:e-1}}),Jb("lastIndex"));var rA=lr,nA=rn,iA=Wo,oA=En,aA=_v,sA=Mr("Map"),uA=sA.prototype,cA=rA(uA.forEach),fA=rA(uA.has),lA=rA(uA.set),pA=rA([].push),hA=nc;La({target:"Array",proto:!0,forced:!0},{uniqueBy:function(t){var e,r,n,i=oA(this),o=iA(i),a=aA(i,0),s=new sA,u=null!=t?nA(t):function(t){return t};for(e=0;e<o;e++)n=u(r=i[e]),fA(s,n)||lA(s,n,r);return cA(s,(function(t){pA(a,t)})),a}}),hA("uniqueBy");var dA=UT;!function(t){t.exports=dA}({exports:{}});var vA=function(){function t(t){var e=t.timeout,r=t.callback;this.timeout=Math.max(e,0),this.callback=r}return t.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},t.prototype.refresh=function(){this.stop(),this.start()},t.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t}(),yA=function(){function t(t,e,r,n){this.buffer=[],this.sink=t,this.maxQueueSize=r,this.batchComparator=e,this.timer=new vA({callback:this.flush.bind(this),timeout:n}),this.started=!1}return t.prototype.start=function(){this.started=!0},t.prototype.stop=function(){this.started=!1;var t=this.sink(this.buffer,!0);return this.buffer=[],this.timer.stop(),t},t.prototype.enqueue=function(t){this.started&&(0===this.buffer.length&&this.timer.refresh(),this.buffer.push(t),this.buffer.length>=this.maxQueueSize&&this.flush())},t.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},t.prototype.close=function(){this.stop()},t}(),gA=function(){function t(t,e,r){this.eventDispatcher=t,this.flushInterval=r,this.queue=new yA(this.drainQueue.bind(this),mA,e,r)}return t.prototype.drainQueue=function(t,e){var r=this;return new Promise((function(n){0!==t.length?e?r.eventDispatcher.dispatchXhrOrBeacon(t,(function(){n()})):r.eventDispatcher.dispatch(t,(function(){n()})):n()}))},t.prototype.process=function(t){this.queue.enqueue(t)},t.prototype.start=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){return this.queue.start(),[2]}))}))},t.prototype.stop=function(){try{this.queue.close()}catch(t){}return Promise.resolve()},t.prototype.close=function(){this.stop()},t}();function mA(t,e){return t.timestamp==e.timestamp&&t.user.identifiers==e.user.identifiers&&t.user.properties==e.user.properties}var wA=function(){function t(){}return t.isEquals=function(t,e){if(null==e)return!1;var r=Object.keys(t);return r.length===Object.keys(e).length&&r.every((function(r){return t[r]===e[r]}))},t}(),EA=function(){function t(t,e){this.delegate=t,this.exposureEventDedupDeterminer=e}return t.prototype.process=function(t){this.exposureEventDedupDeterminer.isDedupTarget(t)||this.delegate.process(t)},t.prototype.close=function(){this.delegate.close()},t.prototype.start=function(){return this.delegate.start()},t}(),TA=function(){function t(t){this.cache=new Map,this.exposureEventDedupIntervalMillis=t}return t.prototype.isDedupTarget=function(t){var e;if(-1===this.exposureEventDedupIntervalMillis)return!1;if(!nt.isExposure(t))return!1;wA.isEquals(t.user.identifiers,null===(e=this.currentUser)||void 0===e?void 0:e.identifiers)||(this.currentUser=t.user,this.cache=new Map);var r=[t.experiment.id,t.variationId,t.variationKey,t.decisionReason].join("-"),n=(new Date).getTime(),i=this.cache.get(r);return void 0!==i&&n-i<=this.exposureEventDedupIntervalMillis||(this.cache.set(r,n),!1)},t}(),bA=l.log,AA=null,RA={debug:!1,log_disabled:!1,auto_track_page_view:!1,pollingIntervalMillis:-1,exposureEventDedupIntervalMillis:-1,SDK_NAME_HEADER:"javascript-sdk_browser",SDK_VERSION_HEADER:"11.2.0"};function OA(t,e){var r,i,o=n(n({},RA),e);if(o.log_disabled?l.setLogLevel(a):o.debug&&l.setLogLevel(f),bA.debug("sdkKey : "+t),t||bA.error("SDK Key must not be null"),AA)return bA.debug("use already exists hackleClient"),AA;var s=!1;"undefined"!=typeof window&&(s=window&&window.navigator&&window.navigator.sendBeacon&&!0)&&bA.debug("support sendBeacon API");var u=new Fe(t,A,{dispatchUrl:"https://event.hackle.io/api/v2/w/events",beaconDispatchUrl:"".concat("https://event.hackle.io/api/v2/w/").concat(t).concat("/events"),useBeacon:s,headers:(r={},r[d]=o.SDK_NAME_HEADER,r[v]=o.SDK_VERSION_HEADER,r)}),c=-1;void 0!==o.pollingIntervalMillis&&"number"==typeof o.pollingIntervalMillis&&o.pollingIntervalMillis>0&&(c=Math.max(o.pollingIntervalMillis,3e4));var p=new Ge(t,A,{fetchUrl:"".concat("https://sdk.hackle.io/api/v2/w/").concat(t).concat("/w"),updateInterval:c,headers:(i={},i[d]=o.SDK_NAME_HEADER,i[v]=o.SDK_VERSION_HEADER,i)}),h=-1;void 0!==o.exposureEventDedupIntervalMillis&&"number"==typeof o.exposureEventDedupIntervalMillis&&-1!==o.exposureEventDedupIntervalMillis&&(o.exposureEventDedupIntervalMillis<1e3||o.exposureEventDedupIntervalMillis>36e5?(bA.warn("Exposure event dedup interval is outside allowed range[1_000ms..3_600_000ms]. Setting to default value[no dedup]."),h=-1):h=o.exposureEventDedupIntervalMillis);var y=new gA(u,100,500),g=new TA(h),m=new EA(y,g),w=new Ue(p,m);if(AA=w,o.auto_track_page_view){var E=function(){return w.trackPageView({user:{id:xe()}})};w.onReady((function(){function t(t){if("function"==typeof window.Event)return new Event(t);var e={bubbles:!1,cancelable:!1,detail:void 0},r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}E();try{history.pushState=function(e){return function(){try{var r=e.apply(this,arguments);return window.dispatchEvent(t("locationchange")),r}catch(t){if(t instanceof Error)bA.error(t);else try{bA.error(t)}catch(t){}}}}(history.pushState),history.replaceState=function(e){return function(){try{var r=e.apply(this,arguments);return window.dispatchEvent(t("locationchange")),r}catch(t){if(t instanceof Error)bA.error(t);else try{bA.error(t)}catch(t){}}}}(history.replaceState),window.addEventListener("popstate",(function(){try{window.dispatchEvent(t("locationchange"))}catch(t){if(t instanceof Error)bA.error(t);else try{bA.error(t)}catch(t){}}})),window.addEventListener("locationchange",(function(){try{E()}catch(t){if(t instanceof Error)bA.error(t);else try{bA.error(t)}catch(t){}}}))}catch(t){if(t instanceof Error)bA.error(t);else try{bA.error(t)}catch(t){}}}))}return window.addEventListener("onpagehide"in window?"pagehide":"unload",(function(){Me(),w.close()})),w}var IA={createInstance:OA,getUserId:xe,setUserId:ke,removeUserId:Me,Logger:l};t.Bucket=x,t.Container=H,t.ContainerGroup=B,t.CoreVersion=X,t.Decision=O,t.DecisionReason=N,t.EventType=M,t.Experiment=_,t.FeatureFlagDecision=I,t.IdentifierType=C,t.IdentifiersBuilder=P,t.Logger=l,t.MATCH_OPERATORS=Z,t.MATCH_TYPES=Y,t.MATCH_VALUE_TYPES=$,t.MetaVersion=W,t.SEGMENT_TYPES=tt,t.Segment=G,t.Slot=k,t.TARGET_ACTION_TYPES=Q,t.TARGET_KEY_TYPES=J,t.Target=D,t.TargetAction=j,t.TargetCondition=U,t.TargetKey=L,t.TargetMatch=F,t.TargetRule=V,t.TargetingType=et,t.Variation=S,t.Version=q,t.createInstance=OA,t.default=IA,t.getUserId=xe,t.removeUserId=Me,t.setUserId=ke,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.browser.umd.min.js.map
