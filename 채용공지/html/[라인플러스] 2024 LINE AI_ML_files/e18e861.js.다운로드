(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{910:function(t,e,n){"use strict";var r=n(158),o=n(27),c=n(20),l=n(204),d=n(50),v=n(74),f=n(202),m=n(61),h=n(270),x=n(272),_=n(138),C=n(43),L=n(104),w=n(201),j=n(205),y=n(203),S=n(271),k=n(21),D=S.UNSUPPORTED_Y,O=4294967295,N=Math.min,I=[].push,P=c(/./.exec),T=c(I),z=c("".slice),A=!k((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));l("split",(function(t,e,n){var c;return c="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var c=C(m(this)),l=void 0===n?O:n>>>0;if(0===l)return[];if(void 0===t)return[c];if(!f(t))return o(e,c,t,l);for(var d,v,h,output=[],x=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,L=new RegExp(t.source,x+"g");(d=o(y,L,c))&&!((v=L.lastIndex)>_&&(T(output,z(c,_,d.index)),d.length>1&&d.index<c.length&&r(I,output,w(d,1)),h=d[0].length,_=v,output.length>=l));)L.lastIndex===d.index&&L.lastIndex++;return _===c.length?!h&&P(L,"")||T(output,""):T(output,z(c,_)),output.length>l?w(output,0,l):output}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=m(this),l=v(e)?void 0:L(e,t);return l?o(l,e,r,n):o(c,C(r),e,n)},function(t,r){var o=d(this),l=C(t),v=n(c,o,l,r,c!==e);if(v.done)return v.value;var f=h(o,RegExp),m=o.unicode,L=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(D?"g":"y"),w=new f(D?"^(?:"+o.source+")":o,L),y=void 0===r?O:r>>>0;if(0===y)return[];if(0===l.length)return null===j(w,l)?[l]:[];for(var p=0,q=0,S=[];q<l.length;){w.lastIndex=D?0:q;var k,I=j(w,D?z(l,q):l);if(null===I||(k=N(_(w.lastIndex+(D?q:0)),l.length))===p)q=x(l,q,m);else{if(T(S,z(l,p,q)),S.length===y)return S;for(var i=1;i<=I.length-1;i++)if(T(S,I[i]),S.length===y)return S;q=p=k}}return T(S,z(l,p)),S}]}),!A,D)},955:function(t,e,n){"use strict";var r=n(2),o=(n(54),n(19),n(5),n(9),n(14),n(910),n(34),n(13),{props:{coverLetter:{type:Object,default:function(){return{}}}}}),c=n(3),l=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("li",[e("p",{staticClass:"modal_t7"},[e("strong",[t._l(t.coverLetter.SubjectArr,(function(n,i){return[t._v(t._s(n)),i!=t.coverLetter.SubjectArrLastIdx?e("br",{key:"subject_".concat(t.coverLetter.idx,"_").concat(i)}):t._e()]}))],2),t._v("\n        "+t._s(t.coverLetter.ContentsLength)+"/"+t._s(t.coverLetter.CountNumberStr)+" ("+t._s(t.coverLetter.CountOption)+", "+t._s(t.coverLetter.IsSpace)+")\n    ")]),t._v(" "),e("p",{staticClass:"cv_txt"},[t._l(t.coverLetter.ContentsArr,(function(n,i){return[t._v(t._s(n)),i!=t.coverLetter.ContentsArrLastIdx?e("br",{key:"contents_".concat(t.coverLetter.idx,"_").concat(i)}):t._e()]}))],2)])}),[],!1,null,null,null).exports,d={components:{PlayVideo:n(960).a},props:{cvMenu:{type:String,default:"list"},coverLetter:{type:Object,default:function(){return{}}}}},v=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("li",[e("p",{staticClass:"modal_t7"},[e("strong",[t._l(t.coverLetter.SubjectArr,(function(n,i){return[t._v(t._s(n)),i!=t.coverLetter.SubjectArrLastIdx?e("br",{key:"subject_".concat(t.coverLetter.idx,"_").concat(i)}):t._e()]}))],2),t._v("\n        ("),e("span",{staticClass:"pointc_0"},[t._v(t._s(t.coverLetter.CountNumberStr))]),t._v("분 이내)\n    ")]),t._v(" "),"list"!==t.cvMenu?[e("p",{staticClass:"cv_txt2",attrs:{name:"videoNoPrintArea"}},[t._v("※이 영상은 지원한 기업에서 동일하게 보여집니다.")]),t._v(" "),e("play-video",{attrs:{name:"videoNoPrintArea",videoData:t.coverLetter,from:t.cvMenu}})]:t._e(),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"cv_txt",attrs:{name:"videoPrintArea"}},[t._v("본 문항은 영상 자소서 문항입니다. 영상은 사이트에서 확인하세요.")])],2)}),[],!1,null,null,null).exports,f=n(1013),m=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f.a,t.next=3,e.$get("".concat("https://www.catch.co.kr","/file/malgunFontToBase64.txt"));case 3:return r=t.sent,t.next=6,e.$get("".concat("https://www.catch.co.kr","/file/malgunFontToBase64Bold.txt"));case 6:return o=t.sent,n.addFileToVFS("malgun.ttf",r),n.addFileToVFS("malgun-bold.ttf",o),n.addFont("malgun.ttf","malgun","normal"),n.addFont("malgun-bold.ttf","malgun","bold"),n.setFont("malgun"),n.getWidth=function(){return n.internal.pageSize.getWidth()},t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t){var text=t.text,e=t.textWidth,n=t.doc,r=t.fontSize,o=void 0===r?10:r,c=t.fontWeight,l=void 0===c?"normal":c,d=t.lineSpacing,v=void 0===d?7:d,f=t.xPosition,m=void 0===f?10:f,h=t.initialYPosition,x=void 0===h?10:h,_=t.pageWrapInitialYPosition,C=void 0===_?10:_,L=n.splitTextToSize(text,e),w=n.internal.pageSize.height;n.setFont("malgun",l),n.setFontSize(o);var j=x;return L.forEach((function(t){j>w-8&&(n.addPage(),j=C),n.text(m,j,t),j+=v})),j},x={head:{script:[{type:"text/javascript",src:"https://cdnjs.cloudflare.com/ajax/libs/docxtemplater/3.14.0/docxtemplater.js"},{type:"text/javascript",src:"https://unpkg.com/pizzip@3.0.6/dist/pizzip.js"},{type:"text/javascript",src:"https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"},{type:"text/javascript",src:"https://unpkg.com/pizzip@3.0.6/dist/pizzip-utils.js"}]},props:{cvMenu:{type:String,default:"list"},selectedCoverLetter:{type:Object,default:function(){return{}}},isShowDownload:{type:Boolean,default:!0}},data:function(){return{coverLetterID:this.selectedCoverLetter.ID||this.selectedCoverLetter.CoverLetterID,title:"",compName:"",taskName:"",countOption:1,isSpace:1,subjectList:[],countOptionCode:{1:"글자수",2:"2바이트",3:"3바이트"}}},computed:{updateDateText:function(){if(!this.selectedCoverLetter.Date)return"-";var t=this.$moment(this.selectedCoverLetter.Date);return t.isValid()?t.format("YYYY.MM.DD"):this.selectedCoverLetter.Date},applied:function(){return"apply"===this.cvMenu?"Y":""}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCoverLetter();case 2:t.toggleBodyClass("add");case 3:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.toggleBodyClass("remove")},methods:{getCvTypeComponent:function(t){return 3==t?v:l},toggleBodyClass:function(t){"list"!==this.cvMenu&&document.body.classList["add"===t?"add":"remove"]("bodyNoScroll")},loadFile:function(t,e){PizZipUtils.getBinaryContent(t,e)},generate:function(){var t=this;this.loadFile("/file/CoverLetter_양식_v2.0.docx",(function(e,content){if(e)throw e;var n=new PizZip(content),r=(new window.docxtemplater).loadZip(n);r.setOptions({linebreaks:!0}),r.setData({Title:t.title,SubjectList:t.subjectList});try{r.render()}catch(e){var o={message:e.message,name:e.name,stack:e.stack,properties:e.properties};throw console.log(JSON.stringify({error:o})),e}var c=r.getZip().generate({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),l=t.compName&&t.taskName?"".concat(t.compName," ").concat(t.taskName,"_catch.docx"):"".concat(t.title,"_catch.docx");saveAs(c,l)}))},getDocx:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||isNaN(t)){n.next=4;break}return e.coverLetterID=t,n.next=4,e.getCoverLetter();case 4:e.generate();case 5:case"end":return n.stop()}}),n)})))()},getCoverLetter:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.coverLetterID){e.next=2;break}return e.abrupt("return");case 2:if("offer"!==t.cvMenu){e.next=8;break}return e.next=5,t.$axios.$get("/recruit/offer/detail/".concat(t.coverLetterID,"/getOfferCoverLetter"));case 5:data=e.sent,e.next=11;break;case 8:return e.next=10,t.$axios.$get("/member/coverLetter/coverLetterV2/".concat(t.coverLetterID,"/get"),{params:{applied:t.applied}});case 10:data=e.sent;case 11:if(data){e.next=14;break}return t.close(),e.abrupt("return");case 14:t.title=data.title,t.compName=data.compName,t.taskName=data.taskName,t.countOption=data.countOption,t.isSpace=data.isSpace,n=t.countOptionCode[t.countOption]||"글자수",r=1==t.isSpace?"공백 포함":"공백 제외",(o=data.subjectList||[]).forEach((function(e,i){e.Contents=e.Contents||"",e.Subject=e.Subject||"",e.ContentsArr=e.Contents.split(/\r\n|\n|\r/),e.ContentsArrLastIdx=e.ContentsArr.length-1,e.SubjectArr=e.Subject.split(/\r\n|\n|\r/),e.SubjectArrLastIdx=e.SubjectArr.length-1,e.ContentsLength=t.getLength(e.Contents),e.CountOption=3==e.Type?"분":n,e.IsSpace=r,e.CountNumberStr="-"===e.CountNumber?"제한없음":e.CountNumber,e.SubjectNumber=i+1,e.DocxContents=3==e.Type?"본 문항은 영상 자소서 문항입니다. 영상은 사이트에서 확인하세요.":e.Contents,e.DocxSubjectInfo=3==e.Type?"(".concat(e.CountNumber,"분 이내)"):"".concat(e.ContentsLength,"/").concat(e.CountNumberStr," (").concat(e.CountOption,", ").concat(e.IsSpace,")")})),t.subjectList=o;case 24:case"end":return e.stop()}}),e)})))()},getLength:function(t){if(!t)return 0;var e=this.isSpace?t:t.replace(/ |\n/gi,"");return 2==this.countOption||3==this.countOption?this.getByteLength(e):e.length},getByteLength:function(t,b,i,e){for(b=i=0;e=t.charCodeAt(i);i++)b+=e>>7?this.countOption:1;return b},print:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||isNaN(t)){n.next=4;break}return e.coverLetterID=t,n.next=4,e.getCoverLetter();case 4:e.$nextTick((function(){window&&window.open("/Popup/CoverLetterPrint","print_open","width=1050,height=500,toolbar=no,status=no,scrollbars=yes,directory=no")}));case 5:case"end":return n.stop()}}),n)})))()},close:function(){this.$emit("closeLayer","PreviewCoverLetter")},getPdf:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||isNaN(t)){n.next=4;break}return e.coverLetterID=t,n.next=4,e.getCoverLetter();case 4:return n.next=6,m(e.$axios);case 6:(r=n.sent).line(15,19,195,19),8,o=(r.getWidth()-r.getTextWidth(e.title))/2,16,r.setFontSize(16),r.text(e.title,o,16),c=30,e.subjectList.forEach((function(t,i){var e=r.getWidth()-16;0==i&&(e=r.getWidth()+40),c=h({text:"".concat(i+1,". ").concat(t.Subject," (").concat(t.DocxSubjectInfo,")"),textWidth:e,doc:r,fontSize:"12",fontWeight:"bold",lineSpacing:7,xPosition:10,initialYPosition:c,pageWrapInitialYPosition:10}),c=h({text:"\n\n".concat(3==t.Type?"본 문항은 영상 자소서 문항입니다. 영상은 사이트에서 확인하세요.":t.Contents,"\n\n"),textWidth:r.getWidth()-16,doc:r,fontSize:"12",fontWeight:"normal",lineSpacing:7,xPosition:10,initialYPosition:c,pageWrapInitialYPosition:10})})),r.save("".concat(e.title,"_catch.pdf"));case 16:case"end":return n.stop()}}),n)})))()}}},_=Object(c.a)(x,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal_middle dim wd4 atLeft scroll"},[e("div",{staticClass:"modal_wrap"},[e("div",{staticClass:"modal_head"},[e("p",{staticClass:"ltitle"},[t._v("\n                자소서 미리보기"),"list"!==t.cvMenu?e("span",{staticClass:"lcopy ml5"},[t._v("지원일 "+t._s(t.updateDateText))]):t._e()]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.close}},[e("span",[t._v("닫기")])])]),t._v(" "),e("div",{staticClass:"modal_cont cvletter_prev pb0"},[t.isShowDownload?e("div",{staticClass:"top_btn"},[e("a",{staticClass:"btn_com43 bg1",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.getDocx.apply(null,arguments)}}},[t._v("MS저장")]),t._v(" "),e("a",{staticClass:"btn_com43 bg1",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.print.apply(null,arguments)}}},[t._v("인쇄")])]):t._e(),t._v(" "),e("ul",{staticClass:"cvletter_prev_list",attrs:{id:"coverLetterPrintArea"}},t._l(t.subjectList,(function(n){return e(t.getCvTypeComponent(n.Type),{key:"subject-".concat(n.idx),tag:"component",attrs:{coverLetter:n,cvMenu:t.cvMenu}})})),1)])])])}),[],!1,null,null,null);e.a=_.exports},960:function(t,e,n){"use strict";var r=n(2),o=(n(13),n(23)),c=n.n(o),l={props:{videoData:{type:Object,default:function(){return{}},required:!0},from:{type:String}},data:function(){return{videoUrl:null}},watch:{videoData:{deep:!0,immediate:!0,handler:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$post("/member/coverLetter/coverLetterV2/videoUrl",{idx:t.videoData.idx,fileName:t.videoData.Contents,from:t.from});case 2:data=e.sent,!data||data.error?c.a.fire({type:"warning",html:(null==data?void 0:data.msg)||"오류가 발생했습니다.<br/>새로고침 후, 다시 시도해주세요.",allowOutsideClick:!1}):t.videoUrl=data;case 5:case"end":return e.stop()}}),e)})))()}}},methods:{failLoadVideo:function(){c.a.fire({type:"warning",html:"재생 시간이 만료되었습니다.<br/>새로고침 후, 다시 시도해주세요.",allowOutsideClick:!1})}}},d=n(3),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"video_wrap"},[t.videoUrl?e("video",{attrs:{src:t.videoUrl,controls:"",controlsList:"nodownload"},on:{contextmenu:function(t){t.preventDefault()},error:t.failLoadVideo}}):t._e()])}),[],!1,null,null,null);e.a=component.exports}}]);