var Criteo,Criteo,Criteo,Criteo;!function(t){!function(t){!function(t){"use strict";var e=function(){function t(t){this.name=t}return t.prototype.eval=function(){},t}();t.AbstractEvent=e}(t.Event||(t.Event={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";function e(t){"undefined"!=typeof console&&console.log("PubTag [DEBUG]:"+t)}function i(t){"undefined"!=typeof console&&console.log("PubTag [WARNING]:"+t)}function n(t){"undefined"!=typeof console?console.log("PubTag [ERROR]:"+t):alert("PubTag [ERROR]:"+t)}t.Debug=e,t.Warning=i,t.Error=n}(t.Log||(t.Log={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";var e=function(){function t(){this._allowedPixelLoaded=!1,this._blockedPixelFailed=!1}return t.prototype.isAdBlocked=function(e,i){var n=this,o="https:"===e?"https:":"http:",r=o+t.allowedPixelUrl,a=o+t.blockedPixelUrl;this.createPixel(r,(function(){n._allowedPixelLoaded=!0,!0===n._blockedPixelFailed&&i(!0)}),(function(){})),this.createPixel(a,(function(){i(!1)}),(function(){n._blockedPixelFailed=!0,!0===n._allowedPixelLoaded&&i(!0)}))},t.prototype.createPixel=function(t,e,i){var n=document.getElementsByTagName("script")[0],o=document.createElement("img");o.src=t,o.height=1,o.width=1,o.style.display="none",o.onload=e,o.onerror=i,"HTMLImageElement"==typeof o&&n.parentNode.insertBefore(o,n)},t.allowedPixelUrl="//static.criteo.net/images/pixel.gif?ch=1",t.blockedPixelUrl="//static.criteo.net/images/pixel.gif?ch=2",t}();t.AdBlocker=e}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";var e=function(){function t(t,e,i){this._url=t,this._data=e,this._contentType=i}return t.prototype.send=function(t,e,i){var n=void 0!==this._data?"POST":"GET",o=this.getXMLHttpRequest(n,t,e,i);if(void 0!==o)o.send(this._data);else{var r=this.getXDomainRequest(n,t,e,i);void 0!==r&&r.send(this._data)}},t.prototype.getXMLHttpRequest=function(e,i,n,o){var r=new XMLHttpRequest;if("withCredentials"in r)return r.open(e,this._url,!0),r.timeout=t.LOCAL_PASSBACK_TIMEOUT,this._contentType?r.setRequestHeader("Content-type",this._contentType):"POST"===e&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.withCredentials=!0,r.onload=function(){4===r.readyState&&200===r.status?i(r.responseText):n(r.readyState,r.status)},r.ontimeout=o,r},t.prototype.getXDomainRequest=function(e,i,n,o){if("undefined"!=typeof XDomainRequest){var r=new XDomainRequest;return r.timeout=t.LOCAL_PASSBACK_TIMEOUT,r.open(e,this._url),r.onload=function(){void 0!==r.responseText?i(r.responseText):n(void 0,void 0)},r.ontimeout=o,r}},t.LOCAL_PASSBACK_TIMEOUT=3e4,t}();t.AsyncRequest=e}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo,Criteo;!function(t){!function(t){!function(t){"use strict";var e=function(t){function e(i,n,o){t.call(this,e.NAME),this._condition=i,this._eventIfTrue=n,this._eventIfFalse=o}return __extends(e,t),e.prototype.eval=function(t){this._condition.apply(this)?this._eventIfTrue.eval(t):this._eventIfFalse.eval(t)},e.NAME="conditionalEvent",e}(t.AbstractEvent);t.ConditionalEvent=e}(t.Event||(t.Event={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";var e=function(){function t(){}return t.getHighestAccessibleWindow=function(t){var e=t,i=!1;try{for(;e.parent.document!==e.document;){if(!e.parent.document){i=!0;break}e=e.parent}}catch(t){i=!0}return{topFrame:e,err:i}},t.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},t}();t.DomManipulationTools=e}(t.Display||(t.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";var e=function(){function e(e,i){this.charset=e.charset?e.charset:e.characterSet?e.characterSet:"";var n=t.Display.DomManipulationTools.getHighestAccessibleWindow(i);this.displayContext=this.getDisplayContext(n),this.highestAccessibleUrl=this.getHighestAccessibleUrl(n),this.location=i.location,this.protocol=i.location.protocol,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[]}return e.prototype.getHighestAccessibleUrl=function(t){var e=t.topFrame,i="";if(t.err)try{if(!(i=e.top.location.href)){var n=e.location.ancestorOrigins;i=n[n.length-1]}}catch(t){i=e.document.referrer}else i=e.location.href;return i},e.prototype.getDisplayContext=function(e){return t.Display.DomManipulationTools.inIframe()?e.err?t.DisplayContext.InUnfriendlyIframe:t.DisplayContext.InFriendlyIframe:t.DisplayContext.DirectIntegration},e}();t.Context=e}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";var e=function(t){function e(i){t.call(this,e.NAME),this._function=i}return __extends(e,t),e.prototype.eval=function(){this._function&&this._function.apply(this)},e.NAME="genericEvent",e}(t.AbstractEvent);t.Custom=e}(t.Event||(t.Event={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";!function(t){t[t.Unspecified=0]="Unspecified",t[t.AMP=1]="AMP"}(t.IntegrationMode||(t.IntegrationMode={})),t.IntegrationMode}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";!function(t){t[t.AFR=0]="AFR",t[t.AJS=1]="AJS"}(t.HandlerType||(t.HandlerType={})),t.HandlerType}(t.Display||(t.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){"use strict";var i=function(){function i(){var t=this;this.integrationMode=e.IntegrationMode.Unspecified,this.paramParser={},this.paramParser.integrationmode=function(e){t.integrationMode=t.parseIntegrationMode(e)}}return i.prototype.tryFillParameters=function(e){var i;for(i in e)if(void 0!==e[i]){var n=i.toLowerCase();this.paramParser[n]?this.paramParser[n](e[i]):t.Log.Warning("Unknown parameter: "+i)}},i.prototype.parseIntegrationMode=function(t){return"amp"===t.toLowerCase()?e.IntegrationMode.AMP:e.IntegrationMode.Unspecified},i}();e.InputParameters=i}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";var i=function(t){function e(e){var i=this;t.call(this),this.zoneid=void 0,this.async=void 0,this.containerid=void 0,this.width=void 0,this.height=void 0,this.callbackSuccess=void 0,this.callbackError=void 0,this.callIfNotAdblocked=void 0,this.passbackCode=void 0,this.publisherUrl=void 0,this.overridenWpdt0=void 0,this.overridenCt0=void 0,this.layout=void 0,this.atfRatio=void 0,this.overrideZoneFloor=!0,this.collapseContainerIfNotAdblocked=!0,this.extraData={},this.paramParser.zoneid=function(t){i.zoneid=t},this.paramParser.async=function(t){i.async=!0===t},this.paramParser.containerid=function(t){i.containerid=t},this.paramParser.width=function(t){i.width=t},this.paramParser.height=function(t){i.height=t},this.paramParser.callbacksuccess=function(t){i.callbackSuccess=t},this.paramParser.callbackerror=function(t){i.callbackError=t},this.paramParser.callifnotadblocked=function(t){i.callIfNotAdblocked=t},this.paramParser.passbackcode=function(t){i.passbackCode=t},this.paramParser.layout=function(t){i.layout=t},this.paramParser.publishercreativeconfiguration=this.paramParser.layout,this.paramParser.extradata=function(t){i.extraData=t},this.paramParser.publisherurl=function(t){i.publisherUrl=t},this.paramParser.wpdt0=function(t){i.overridenWpdt0=t},this.paramParser.ct0=function(t){i.overridenCt0=t},this.paramParser.overridezonefloor=function(t){i.overrideZoneFloor=t},this.paramParser.collapsecontainerifnotadblocked=function(t){i.collapseContainerIfNotAdblocked=t},t.prototype.tryFillParameters.call(this,e)}return __extends(e,t),e}(t.PubTag.InputParameters);e.DisplayInputParameters=i}(e.Display||(e.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){"use strict";!function(t){t[t.InFriendlyIframe=1]="InFriendlyIframe",t[t.InUnfriendlyIframe=2]="InUnfriendlyIframe",t[t.DirectIntegration=3]="DirectIntegration"}(t.DisplayContext||(t.DisplayContext={})),t.DisplayContext}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(i){"use strict";var n=function(){function n(){}return n.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},n.prototype.buildUrl=function(o,r,a,s,c){var u;u=a===i.HandlerType.AFR?n.CAS_URL_AFR:n.CAS_URL_AJS;var l=("https:"===r.protocol?"https:":"http:")+u+"?ptv="+t.PublisherTag.VERSION;if(!0===r.isAdBlocked){var d=this.getAbpParameter(o,r);l+="&abp="+String(d)}for(var p in a!==i.HandlerType.AFR&&(l+=void 0!==o.containerid&&""!==o.containerid?"&containerid="+encodeURIComponent(o.containerid):""),l+="&zoneid="+String(o.zoneid),l+=s?"&width="+s:"",l+=c?"&height="+c:"",l+="&cb="+String(n.getRandomNumber()),l+="&nodis="+(r.dising?"0":"1"),l+=r.charset?"&charset="+r.charset:"",l+=o.overridenCt0?"&ct0="+encodeURIComponent(o.overridenCt0):r.ct0?"&ct0="+encodeURIComponent(r.ct0):"",l+=o.overridenWpdt0?"&wpdt0="+encodeURIComponent(o.overridenWpdt0):r.wpdt0?"&wpdt0="+encodeURIComponent(r.wpdt0):"",l+=o.publisherUrl?"&publisherurl="+encodeURIComponent(o.publisherUrl):"",o.extraData)void 0!==o.extraData[p]&&(l+="&"+p+"="+encodeURIComponent(o.extraData[p]));l+=o.passbackCode?"&dlp=1":"",o.integrationMode!==e.IntegrationMode.Unspecified&&(l+="&im="+o.integrationMode),l+="&dc="+r.displayContext;var f=Math.round(100*o.atfRatio)/100;return(l+=void 0!==o.atfRatio?"&atfr="+f:"")+(r.highestAccessibleUrl?"&loc="+encodeURIComponent(r.highestAccessibleUrl).substring(0,1600):"")},n.prototype.getAbpParameter=function(t,e){return(e.isAdBlocked?1:0)|(t.overrideZoneFloor?0:2)},n.CAS_URL_AJS="//cas.criteo.com/delivery/ajs.php",n.CAS_URL_AFR="//cas.criteo.com/delivery/afr.php",n}();i.DisplayUrlBuilder=n}(e.Display||(e.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(e){"use strict";var i=function(){function i(){}return i.prototype.GetAtfRatio=function(e,n){var o=document.getElementById(n);if(e.displayContext==t.DisplayContext.DirectIntegration){if(null!==o)return i.getRatioAboveFold(o);document.write("<div id='compute_visibility_helper' width='0px' height='0px'></div>");var r=document.getElementById("compute_visibility_helper"),a=i.getRatioAboveFold(r);return r.parentElement.removeChild(r),a}if(e.displayContext==t.DisplayContext.InFriendlyIframe)return i.getRatioAboveFold(frameElement)},i.getRatioAboveFold=function(t){var i=e.DomManipulationTools.getHighestAccessibleWindow(window).topFrame,n=i.document,o=i.innerHeight||n.documentElement.clientHeight||n.body.clientHeight,r=t.getBoundingClientRect(),a=n.documentElement.scrollTop||n.body.scrollTop;return o>=r.bottom+a?1:o<=r.top+a?0:(o-r.top-a)/t.offsetHeight},i}();e.ViewabilityComputer=i}(t.Display||(t.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";var i=function(t){function e(e,i,n){t.call(this,e),this._displayParameters=n,this._urlBuilder=i}return __extends(e,t),e.prototype.eval=function(t){this._displayParameters.atfRatio=t.viewabilityComputer.GetAtfRatio(t.context,this._displayParameters.containerid)},e.prototype.buildCasUrl=function(t,e,i,n){return this._urlBuilder.buildUrl(this._displayParameters,t,e,i,n)},e}(t.PubTag.Event.AbstractEvent);e.DisplayEvent=i}(e.Display||(e.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){"use strict";var e=function(){function e(){this._canProcessConditionalEvents=void 0,this._events=[],this.context=new t.PubTag.Context(document,window),this.viewabilityComputer=new t.PubTag.Display.ViewabilityComputer,this._adblocker=new t.PubTag.AdBlocker,t.Log.Debug("Publisher Tag loaded")}return e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var i=0;i<t.length;++i){var n=t[i];this._events.push(n)}this.evalEvents()},e.prototype.checkAdblocker=function(){if(void 0===this._canProcessConditionalEvents){var t=this;this._canProcessConditionalEvents=!1,this._adblocker.isAdBlocked(this.context.protocol,(function(e){t.context.isAdBlocked=e,t._canProcessConditionalEvents=!0,t.evalEvents()}))}},e.prototype.evalEvents=function(){for(var t=0;t<this._events.length;)if("conditionalEvent"===this._events[t].name&&!1===this._canProcessConditionalEvents)t++;else{this._events.splice(t,1)[0].eval(this)}},e.VERSION=9,e}();t.PublisherTag=e}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";var i=function(){function e(t){void 0===t&&(t=!1),this.auditMode=t}return e.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},e.prototype.buildUrl=function(i,n){var o=("https:"===n.protocol?"https:":"http:")+e.CRITEO_BIDDER_URL+this.getHandlerPath()+"?ptv="+t.PublisherTag.VERSION;return(o+="&profileId="+String(i))+"&cb="+String(e.getRandomNumber())},e.prototype.getHandlerPath=function(){return this.auditMode?e.CRITEO_BIDDER_AUDIT_HANDLER:e.CRITEO_BIDDER_HANDLER},e.CRITEO_BIDDER_URL="//bidder.criteo.com/",e.CRITEO_BIDDER_HANDLER="cdb",e.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",e}();e.DirectBiddingUrlBuilder=i}(e.DirectBidding||(e.DirectBidding={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";var e=function(){function t(t,e){this.impId=t,this.zoneId=e}return t}();t.DirectBiddingSlot=e}(t.DirectBidding||(t.DirectBidding={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";var i=function(e){function i(t,n,o,r,a,s){e.call(this,i.NAME),this._profileId=t,this._urlBuilder=n,this._slots=o,this._callbackSuccess=r,this._callbackError=a,this._callbackTimeout=s}return __extends(i,e),i.buildAuctionRequest=function(t,e){var i=[];return t.forEach((function(t){i.push({impid:t.impId,zoneid:t.zoneId})})),{publisher:{url:e.highestAccessibleUrl},slots:i}},i.prototype.eval=function(e){if(this.isValidRequest()){var n=JSON.stringify(i.buildAuctionRequest(this._slots,e.context)),o=this._urlBuilder.buildUrl(this._profileId,e.context),r=new t.PubTag.AsyncRequest(o,n,"application/x-www-form-urlencoded"),a=this;r.send((function(t){void 0!==a._callbackSuccess&&a._callbackSuccess(t)}),(function(t,e){void 0!==a._callbackError&&a._callbackError(t,e)}),(function(){void 0!==a._callbackTimeout&&a._callbackTimeout()}))}else this._callbackError()},i.prototype.isValidRequest=function(){return this._slots.length>0},i.NAME="directbidding",i}(t.PubTag.Event.AbstractEvent);e.DirectBiddingEvent=i}(e.DirectBidding||(e.DirectBidding={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";var e=function(e){function i(t,n,o){e.call(this,i.NAME,t,n),this._respectsEyeoDeal=o}return __extends(i,e),i.prototype.eval=function(i){e.prototype.eval.call(this,i);var n=this._displayParameters.containerid,o=this._displayParameters.callbackSuccess,r=this._displayParameters.callbackError,a=this.buildCasUrl(i.context,t.HandlerType.AFR);if(i.context.isAdBlocked){if(!this._respectsEyeoDeal)return;this.loadIframe(a,n,o,r)}else this.loadIframe(a,n,o,r)},i.prototype.loadIframe=function(t,e,i,n){var o=document.createElement("iframe");o.src=t,o.id=e+"_cto_iframe",o.frameBorder="0",o.hspace=0,o.vspace=0,o.marginWidth="0px",o.marginHeight="0px",o.width="100%",o.height="100%",o.scrolling="no",o.onload=i,o.onerror=n,document.getElementById(e).appendChild(o)},i.NAME="displayAfr",i}(t.DisplayEvent);t.DisplayEventAFR=e}(t.Display||(t.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(Criteo){var PubTag;!function(PubTag){var Display;!function(Display){"use strict";var DisplayEventAsync=function(_super){function DisplayEventAsync(t,e){_super.call(this,DisplayEventAsync.NAME,t,e)}return __extends(DisplayEventAsync,_super),DisplayEventAsync.prototype.eval=function(t){var e=this;_super.prototype.eval.call(this,t);var i=this._displayParameters.containerid,n=this._displayParameters.width,o=this._displayParameters.height,r=this._displayParameters.layout,a=this._displayParameters.callbackSuccess,s=this._displayParameters.callbackError,c=this._displayParameters.passbackCode;if(""===i||void 0===i)Criteo.Log.Error("No containerid provided");else if(void 0!==r){var u=DisplayEventAsync.CHAPI_NAME+"="+encodeURIComponent(JSON.stringify(r)),l=function(){var r=e.getContainerSize(i,n,o),l=e.buildCasUrl(t.context,void 0,r.width,r.height);e.loadScriptAsync(l,u,a,s,c)};void 0!==n&&void 0!==o?l():window.addEventListener?window.addEventListener("load",l,!1):window.attachEvent("onload",l)}else{var d=this.buildCasUrl(t.context);this.loadScriptAsync(d,void 0,a,s,c)}},DisplayEventAsync.prototype.loadScriptAsync=function(url,data,callBackSuccess,callbackFail,passbackCode){var request=new Criteo.PubTag.AsyncRequest(url,data);request.send((function(responseText){var pb=passbackCode||function(){};eval(responseText),void 0!==callBackSuccess&&callBackSuccess(responseText)}),(function(t,e){void 0!==passbackCode&&passbackCode(),void 0!==callbackFail&&callbackFail(t,e)}),passbackCode)},DisplayEventAsync.prototype.getContainerSize=function(t,e,i){var n=document.getElementById(t),o=Display.DomManipulationTools.inIframe(),r=e||(o?document.body.offsetWidth:n.offsetWidth),a=i||(o?document.body.offsetHeight:n.offsetHeight);return 0!==a&&0!==r||(a=void 0,r=void 0),{width:r,height:a}},DisplayEventAsync.NAME="displayEventAsync",DisplayEventAsync.CHAPI_NAME="publisherCreativeConfiguration",DisplayEventAsync}(Display.DisplayEvent);Display.DisplayEventAsync=DisplayEventAsync}(Display=PubTag.Display||(PubTag.Display={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(t){!function(t){"use strict";var e=function(t){function e(i,n){t.call(this,e.NAME,i,n)}return __extends(e,t),e.prototype.eval=function(e){t.prototype.eval.call(this,e);var i=this.buildCasUrl(e.context);this.loadScriptSync(i)},e.prototype.loadScriptSync=function(t){document.write("<script type='text/javascript' src='"+t+"'></script>")},e.NAME="displaySync",e}(t.DisplayEvent);t.DisplayEventSync=e}(t.Display||(t.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),window.criteo_pubtag||(window.criteo_pubtag=new Criteo.PublisherTag),function(t){!function(e){!function(e){"use strict";var i=function(){function i(){}return i.prototype.respectsEyeoDeal=function(t){var e=document.getElementById(t);if(!this.respectsSizeConstraints(e))return!1;var n=this.getNewRatiosFeatures(e),o=n.respectsAdRatioConstraint;return o&&(i.atfRatio=n.newAtfRatio,i.btfRatio=n.newBtfRatio),o},i.prototype.respectsSizeConstraints=function(e){var i=this.getAdLocationAttribute(e);switch(i){case"above-content":return e.offsetHeight<=200;case"in-content":return!1;case"below-content":return e.offsetHeight<=400;case"side-content":return e.offsetWidth<=350;default:return void 0!==i&&t.Log.Error("Unknown data-ad-loc attribute : "+i),!0}},i.prototype.getAdLocationAttribute=function(t){return t.getAttribute("data-ad-loc")?t.getAttribute("data-ad-loc"):void 0},i.prototype.getNewRatiosFeatures=function(t){var n=e.ViewabilityComputer.getRatioAboveFold(t),o=t.offsetHeight*t.offsetWidth,r=screen.width*screen.height,a=i.atfRatio+n*o/r,s=i.btfRatio+(1-n)*o/r;return{respectsAdRatioConstraint:a<=.15&&s<=.25,newAtfRatio:a,newBtfRatio:s}},i.atfRatio=0,i.btfRatio=0,i}();e.EyeoDealValidator=i}(e.Display||(e.Display={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){"use strict";function e(e){var i,n=new t.PubTag.Display.DisplayInputParameters(e);(n.async=!1!==n.async,void 0!==n.zoneid)?void 0===n.layout||!1!==n.async?!0!==n.async||void 0!==n.containerid&&""!==n.containerid?(!1===n.async&&void 0!==n.passbackCode&&(t.Log.Error("Criteo.DisplayAd does not support synchronous local passback"),n.passbackCode=void 0),i=n.async?new t.PubTag.Display.DisplayEventAsync(new t.PubTag.Display.DisplayUrlBuilder,n):new t.PubTag.Display.DisplayEventSync(new t.PubTag.Display.DisplayUrlBuilder,n),window.criteo_pubtag.push(i)):t.Log.Error("Missing parameter 'containerid' for an async display"):t.Log.Error("Criteo hosted ads only work in async mode"):t.Log.Error("missing parameter 'zoneid'")}function i(e){var i=new t.PubTag.Display.DisplayInputParameters(e);if(void 0!==i.zoneid)if(void 0!==i.containerid&&""!==i.containerid)if(n(document.getElementById(i.containerid))){window.criteo_pubtag.checkAdblocker();var o,r,a=new t.PubTag.Display.EyeoDealValidator;o=new t.PubTag.Display.DisplayEventAFR(new t.PubTag.Display.DisplayUrlBuilder,i,a.respectsEyeoDeal(i.containerid)),r=new t.PubTag.Event.Custom((function(){i.collapseContainerIfNotAdblocked&&(document.getElementById(i.containerid).style.display="none");void 0!==i.callIfNotAdblocked&&i.callIfNotAdblocked()}));var s,c=function(){return!0===window.criteo_pubtag.context.isAdBlocked};s=new t.PubTag.Event.ConditionalEvent(c,o,r),window.criteo_pubtag.push(s)}else t.Log.Error("can't display acceptable ad : the container \""+i.containerid+'" is not visible');else t.Log.Error("missing parameter 'containerid' to display acceptable ads");else t.Log.Error("missing parameter 'zoneid'")}function n(t){if(t===document)return!0;if(!t)return!1;if(!t.parentNode)return!1;if(t.style){if("none"===t.style.display)return!1;if("hidden"===t.style.visibility)return!1}if(window.getComputedStyle){var e=window.getComputedStyle(t,"");if("none"===e.display)return!1;if("hidden"===e.visibility)return!1}var i=t.currentStyle;if(i){if("none"===i.display)return!1;if("hidden"===i.visibility)return!1}return n(t.parentNode)}t.DisplayAd=e,t.DisplayAcceptableAdIfAdblocked=i}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";e.DefaultCrtgContentName="crtg_content",e.DefaultCrtgRtaCookieName="crtg_rta";var i=function(t){function e(e){var i=this;t.call(this),this.networkId=void 0,this.crtgContentName=void 0,this.crtgRtaCookieName=void 0,this.adserver=void 0,this.paramParser.networkid=function(t){i.networkId=t},this.paramParser.varname=function(t){i.crtgContentName=t},this.paramParser.cookiename=function(t){i.crtgRtaCookieName=t},this.paramParser.adserver=function(t){i.adserver=t},t.prototype.tryFillParameters.call(this,e)}return __extends(e,t),e}(t.PubTag.InputParameters);e.RtaInputParameters=i}(e.RTA||(e.RTA={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(i){"use strict";var n=function(){function i(){}return i.getRandomNumber=function(){return Math.floor(99999999999*Math.random())},i.prototype.buildUrl=function(n,o){var r=("https:"===o.protocol?"https:":"http:")+i.RTA_URL+"?ptv="+t.PublisherTag.VERSION;return!0===o.isAdBlocked&&(r+="&abp=1"),r+="&netid="+String(n.networkId),r+=n.crtgRtaCookieName?"&cookieName="+encodeURIComponent(n.crtgRtaCookieName):"",r+=n.crtgContentName?"&varName="+encodeURIComponent(n.crtgContentName):"",r+="&rnd="+String(i.getRandomNumber()),n.integrationMode!==e.IntegrationMode.Unspecified&&(r+="&im="+n.integrationMode),r},i.RTA_URL="//rtax.criteo.com/delivery/rta/rta.js",i}();i.RtaUrlBuilder=n}(e.RTA||(e.RTA={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(Criteo){var PubTag;!function(PubTag){var RTA;!function(RTA){"use strict";var RtaEvent=function(_super){function RtaEvent(t,e){_super.call(this,RtaEvent.NAME),this.urlBuilder=t,this.parameters=e}return __extends(RtaEvent,_super),RtaEvent.prototype.eval=function(t){_super.prototype.eval.call(this,t);var e=this.urlBuilder.buildUrl(this.parameters,t.context),i=new Criteo.PubTag.AsyncRequest(e),n=function(){return Criteo.Log.Error("An error occured while calling "+e)},o=this.parameters.crtgContentName?this.parameters.crtgContentName:Criteo.PubTag.RTA.DefaultCrtgContentName;-1===t.context.rtaVarNames.indexOf(o,0)&&t.context.rtaVarNames.push(o),i.send(this.executeScript,n)},RtaEvent.prototype.executeScript=function(responseText){eval(responseText)},RtaEvent.NAME="rtaEvent",RtaEvent}(Criteo.PubTag.Event.AbstractEvent);RTA.RtaEvent=RtaEvent}(RTA=PubTag.RTA||(PubTag.RTA={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={})),function(t){!function(e){!function(e){"use strict";var i=function(e){function i(t,n){e.call(this,i.NAME),this.adserver=t,this.targetingValues=n}return __extends(i,e),i.prototype.eval=function(){if(void 0!==this.adserver)if("dfp"===this.adserver.toLowerCase())this.setTargetingDFP(this.targetingValues);else t.Log.Error("unknown adserver '"+this.adserver+"'");else t.Log.Error("undefined adserver")},i.prototype.setTargetingDFP=function(t){void 0===window.googletag&&(window.googletag={});var e=window.googletag;e.cmd=e.cmd||[],e.cmd.push((function(){for(var i in t)t.hasOwnProperty(i)&&e.pubads().setTargeting(""+i,""+t[i])}))},i.NAME="rtaTargetingEvent",i}(t.PubTag.Event.AbstractEvent);e.RtaTargetingEvent=i}(e.RTA||(e.RTA={}))}(t.PubTag||(t.PubTag={}))}(Criteo||(Criteo={})),function(t){"use strict";function e(t){if(void 0===t||""===t)return{};for(var e=t.split(";"),i={},n=0;n<e.length;n++)if(""!==e[n]){var o=e[n].split("=");if(2===o.length){var r=o[0],a=o[1];i[r]=i[r]||[],i[r].push(""+a)}}return i}function i(t){for(var e=document.cookie.split(";"),i=0;i<e.length;i++){var n=e[i],o=n.substr(0,n.indexOf("=")),r=n.substr(n.indexOf("=")+1);if((o=o.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(r)}return""}t.ExtractKeyValuesFromRtaResponse=e,t.ReadCookie=i}(Criteo||(Criteo={})),function(t){"use strict";function e(e){var i=new t.PubTag.RTA.RtaInputParameters(e);if(void 0!==i.networkId){var n=i.crtgContentName?i.crtgContentName:t.PubTag.RTA.DefaultCrtgContentName,o=i.crtgRtaCookieName?i.crtgRtaCookieName:t.PubTag.RTA.DefaultCrtgRtaCookieName;window[n]=t.ReadCookie(o);var r=new t.PubTag.RTA.RtaEvent(new t.PubTag.RTA.RtaUrlBuilder,i);window.criteo_pubtag.push(r)}else t.Log.Error("missing parameter 'networkid'")}function i(e){var i=new t.PubTag.RTA.RtaInputParameters(e);if(void 0!==i.adserver){var n=[];void 0!==i.crtgContentName?n.push(i.crtgContentName):window.criteo_pubtag.context.rtaVarNames.length>0?window.criteo_pubtag.context.rtaVarNames.forEach((function(t){n.push(t)})):n.push(t.PubTag.RTA.DefaultCrtgContentName),n.forEach((function(e){var n=window[e],r=t.ExtractKeyValuesFromRtaResponse(n),a=new t.PubTag.RTA.RtaTargetingEvent(i.adserver,r);window.criteo_pubtag.push(a),o(e)}))}else t.Log.Error("missing parameter 'adserver'")}function n(e,i){var n=t.ReadCookie(e),r=t.ExtractKeyValuesFromRtaResponse(n);return o(i),r}function o(t){var e=window.criteo_pubtag.context.rtaVarNames.indexOf(t,0);e>-1&&window.criteo_pubtag.context.rtaVarNames.splice(e,1)}t.CallRTA=e,t.SetTargeting=i,t.ComputeDFPTargetingForAMP=n}(Criteo||(Criteo={})),window.Criteo=window.Criteo||{};var criteoQueuedEvents=[];window.Criteo.events&&Array.isArray(window.Criteo.events)&&(criteoQueuedEvents=window.Criteo.events),window.Criteo.events={push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(void 0!==t)for(var i=0;i<t.length;i++){var n=t[i];"function"==typeof n&&n()}}},window.Criteo.events.push.apply(window.Criteo.events,criteoQueuedEvents);